(function(){function xa(b,a){return Math.atan2(a[1]-b[1],a[0]-b[0])}function Ma(b,a){return Math.sqrt(b*b+a*a)}function ha(b){var a;a=h.VERTEX_SHADER;a=h.createShader(a);h.shaderSource(a,"attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}");h.compileShader(a);var e=a;a=h.FRAGMENT_SHADER;a=h.createShader(a);h.shaderSource(a,b);h.compileShader(a);b=h.createProgram();h.attachShader(b,e);h.attachShader(b,a);h.linkProgram(b);h.useProgram(b);e=h.getAttribLocation(b,
"p");h.enableVertexAttribArray(e);h.vertexAttribPointer(e,2,h.FLOAT,!1,0,0);return[b]}function N(b){h.useProgram(b[0])}function z(b,a){return b[a]||(b[a]=h.getUniformLocation(b[0],a))}function Ya(){var b=h.createTexture();h.bindTexture(h.TEXTURE_2D,b);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);return b}
function O(b){h.activeTexture(h.TEXTURE0+0);h.bindTexture(h.TEXTURE_2D,b);return 0}function Za(){var b=h.createFramebuffer();h.bindFramebuffer(h.FRAMEBUFFER,b);var a=Ya();h.texImage2D(h.TEXTURE_2D,0,h.RGBA,D,G,0,h.RGBA,h.UNSIGNED_BYTE,null);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,a,0);return[b,a]}function ia(b){h.bindFramebuffer(h.FRAMEBUFFER,b[0])}function rb(){this.T=function(b){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=b[a]||0;.01>this.c&&(this.c=.01);b=
this.b+this.c+this.e;.18>b&&(b=.18/b,this.b*=b,this.c*=b,this.e*=b)}}function sb(b,a,e){Na.F.T(b);var h=Na.V();b=new Uint8Array(4*((h+1)/2|0)+44);var h=2*Na.U(new Uint16Array(b.buffer,44),h),f=new Uint32Array(b.buffer,0,44);f[0]=1179011410;f[1]=h+36;f[2]=1163280727;f[3]=544501094;f[4]=16;f[5]=65537;f[6]=44100;f[7]=88200;f[8]=1048578;f[9]=1635017060;f[10]=h;h+=44;for(f=0;f<h;f+=3);a&&a.decodeAudioData(b.buffer,e)}function ja(b){b=b.split(tb);this.frequency=ja.M(b[0])||0;this.duration=ja.L(b[1])||0}
function x(b,a,e){this.C=b||new ya;this.J();this.I=a||120;this.loop=!0;this.D=this.H=0;this.B=[];this.push.apply(this,e||[])}function $a(b,a,f,h,k){e.save();e.beginPath();e.strokeStyle=k;for(k=0;k<b.length;k++){var l=ub["0123456789?abcdefghijklmnopqrstuvwxyz .-'".indexOf(b[k])],p=shakeScreen[0]+a-(h+10)*(b.length-k),n=shakeScreen[1]+f,m=h;l&1&&(e.moveTo(p+2,n-1),e.lineTo(m+p-2,n-1));l&2&&(e.moveTo(m+p+1,n),e.lineTo(m+p+1,m+n-1));l&4&&(e.moveTo(m+p+1,m+n+1),e.lineTo(m+p+1,2*m+n));l&8&&(e.moveTo(p+
2,2*m+n+1),e.lineTo(m+p-2,2*m+n+1));l&16&&(e.moveTo(p-1,n+m+1),e.lineTo(p-1,n+2*m));l&32&&(e.moveTo(p-1,n),e.lineTo(p-1,m+n-1));l&64&&(e.moveTo(p+2,m+n),e.lineTo(p+m/2-2,m+n));l&128&&(e.moveTo(p+2,n+2),e.lineTo(p+m/2-2,m+n-2));l&256&&(e.moveTo(m/2+p,n+2),e.lineTo(m/2+p,m+n-2));l&512&&(e.moveTo(m/2+p+2,m+n-2),e.lineTo(m+p-2,n+2));l&1024&&(e.moveTo(m/2+p+2,m+n),e.lineTo(m+p-2,m+n));l&2048&&(e.moveTo(m/2+p+2,m+n+2),e.lineTo(m+p-2,2*m+n-2));l&4096&&(e.moveTo(m/2+p,m+n+2),e.lineTo(m/2+p,2*m+n-2));l&8192&&
(e.moveTo(p+2,2*m+n-2),e.lineTo(m/2+p-2,m+n+2))}e.closePath();e.stroke();e.restore()}function E(b,a,e,f,h,k){var l;l=l||2;k=k||0;for(var n=0;n<l;n++)vb[k](b,a+n,e+n,f,h[n]||h[0])}function ab(b){return Math.round(b[0]/84)+"-"+Math.round(b[1]/84)}function Oa(b){for(var a={},e,f=0;9>f;f++)if(e=ab([b[0]+84*(f%3-1),b[1]+84*(~~(f/3)-1)]),!a[e])for(a[e]=1,e=oa[e],f=0;e&&f<e.length;f++)if(Ma(b[1]-e[f][1],b[0]-e[f][0])<e[f][2]+b[2])return e[f]}function bb(b,a){for(var e=[],f=0;f<a;f++){var h=b.slice();h[5]=
.05*(f-a/2)+b[5];e.push(I(h))}return e}function cb(){oa={};P=21;f=40;V=!1;frame=0;B=P*f;C=[];Pa=.3;l=[(800-B)/2,(600-B)/2,370,270];F=[];k=[10.5*f,10.5*f,16,0,150,0,0,12,0,0];za=[[0,1,0,-1],[-1,1,.5,1]];Y=[];Z=[];Qa="";Ra=Math.PI/2;glitchTime=J=0;GLITCHS=[0,0,0,0,0,0,0];Aa={500:[1,ka],2500:[0,10.5*f,5.5*f,10],8999:[5,"what are you doing?"],10500:[1,Q],11E3:[0,5.5*f,5.5*f,10],18E3:[0,15.5*f,15.5*f,10],18001:[5,""],25E3:[0,15.5*f,5.5*f,10],31E3:[0,5.5*f,15.5*f,10],37E3:[0,10.5*f,11.5*f,11],37500:[1,
da],46E3:[5,"you can't stop us!"],48500:[2,10,0,0,0,10,10,10],49E3:[2,10,10,10,15,10,20,10],49001:[4,Q,1],49002:[4,da,1],49003:[4,ka,1],50004:[2,60,60,68,55,50,45,60],51E3:[4,Q,138],51001:[4,da,138],51002:[4,ka,138],51003:[5,"we are perfect!"],52E3:[0,4.5*f,10.5*f,11],53E3:[0,14.5*f,10.5*f,10],55550:[5,""],61E3:[0,10.5*f,16.5*f,11],63E3:[0,10.5*f,6.5*f,10],7E4:[0,16.5*f,10.5*f,11],72E3:[0,6.5*f,10.5*f,10],78E3:[0,10.5*f,4.5*f,11],88501:[2,1E3,0,0,0,0,0,10],92E3:[0,10.5*f,9.5*f,12],92500:[1,R],108050:[5,
"do you think we are an error?"],112050:[5,"you are a glitch!"],115E3:[0,10.5*f,1.5*f,12],120050:[5,""],121E3:[0,1.5*f,10.5*f,12],126E3:[0,19.5*f,10.5*f,12],131E3:[0,10.5*f,19.5*f,12],154499:[5,"your limited dimension..."],160001:[2,100,100,50,20,20,100,10],160500:[5,"is just a plane"],164600:[0,10.5*f,15.5*f,10],164601:[0,12.5*f,16.5*f,10],164602:[0,12.5*f,18.5*f,10],164603:[0,10.5*f,19.5*f,10],164604:[0,8.5*f,18.5*f,10],164605:[0,8.5*f,16.5*f,10],18E4:[0,10.5*f,17.5*f,13],21E4:[0,10.5*f,10.5*f,
14],11E5:[0,12.5*f,6.5*f,10]};Sa=void 0;pa=Object.keys(Aa).map(function(a){return parseInt(a)});for(var b=0;b<P;b++){C.push([]);for(var a=0;a<P;a++)C[b].push([])}da.stop();R.stop();Q.stop();ka.stop();record=parseFloat(db.getItem("agar3sjs13k-record")||0);for(b=0;K&&b<K.length;b++)K[b][3]=!1;Ba=!1;eb()}function L(b,a,f,h,k){e.beginPath();e.moveTo(b,a);e.lineTo(b+(h?k:f),a+(h?f:k));e.stroke()}function Ta(b,a){L(b,0,a,!0,0);L(0,b,a,void 0,0)}function la(b){e.strokeStyle=b?"rgba(234,34,37,0.6)":"rgba(102,82,156,0.8)"}
function fb(){aa=.01}function gb(){return"I reached "+J.toFixed()+" points in devilGlitches #js13k #js13kgames "}function ea(b,a){return Math.random()*(b||1)+a||0}function eb(){var b=ea(10,5);GLITCHS=[b,b,b,ea(10,5),ea(10,5),ea(10,5),0]}function hb(b,a){var e=ba([b[0]+10*Math.cos(Math.PI*a/3),b[1]+10*Math.sin(Math.PI*a/3),4]);e[13]=b;e[9]=xa(e,b);e[3]=e[9]+b[11];e[15]=0;e[16]=0;F.push(e)}function ba(b){b=b.slice(0,2).concat(wb[b[2]].slice(0));if(12==b[5]||14==b[5])for(var a=0;6>a;a++)hb(b,a);return b}
function xb(b){if(.99<b)return 1;var a=1/b;return 100*b%a>a/2?1:0}function S(b,a){return b?Math.random()*a*2-a:0}function Ua(b,a,f){e.moveTo(b[0]*f,a[0]*f);for(var h=1;h<b.length;h++)e.lineTo(b[h]*f,a[h]*f);e.lineTo(b[0]*f,a[0]*f)}function Va(b,a,e,f,h,k,l){return"rgba("+(~~(Math.random()*b)+a)+","+(~~(Math.random()*e)+f)+","+(~~(Math.random()*h)+k)+","+(~~(0*Math.random())+l)+")"}function ib(b){Ca||(Ca=b);dt=Math.min(100,b-Ca)/1E3;Ca=b;frame++;if(Da)switch(Ea++,30<Ea&&(Ea=0),frame){case 240:case 280:case 500:eb();
M(yb);break;case 700:frame=0}else if(0>GLITCHS[6]){b=dt;if(!V){t=b*k[4]*(0<k[8]?Pa:1);var a=b*k[4]*(0<k[8]?1.4:1);C[Math.round(k[1]/f)]&&1==C[Math.round(k[1]/f)][Math.round(k[0]/f)]&&(a-=.5);T&ma[65]&&(k[0]-=a,k[0]<k[2]&&(k[0]=k[2]),k[0]>l[2]&&k[0]<B-l[2]&&(l[0]+=a),32<l[0]&&(l[0]=32));T&ma[87]&&(k[1]-=a,k[1]<k[2]&&(k[1]=k[2]),k[1]>l[3]&&k[1]<B-l[3]&&(l[1]+=a),27<l[1]&&(l[1]=27));T&ma[83]&&(k[1]+=a,k[1]>B-k[2]&&(k[1]=B-k[2]),k[1]>l[3]&&k[1]<B-l[3]&&(l[1]-=a),-272>l[1]&&(l[1]=-272));T&ma[68]&&(k[0]+=
a,k[0]>B-k[2]&&(k[0]=B-k[2]),k[0]>l[2]&&k[0]<B-l[2]&&(l[0]-=a),-67>l[0]&&(l[0]=-67));k[3]=xa([k[0]+l[0],k[1]+l[1]],v);k[5]+=25*t*(8*v[2]+1);k[5]%=360;if(Oa(k)){M(zb);for(a=-10;10>a;a++)Z.push([k[0],k[1],k[2]+Ra*a*Math.random(),100]);za=[[],[]];V=!0;da.stop();R.stop();Q.stop();ka.stop();K[0][3]=!0;t=30*dt;if(Ba=J>record)record=J,db.setItem("agar3sjs13k-record",J),K[1][3]=!0,K[2][3]=!0}v[2]&&0>=k[6]&&0>=k[8]?(Y.push([k[0]+S(1,2+k[7]/30),k[1]+S(1,2+k[7]/30),2,k[3]+S(1,.05+.001*k[7])]),M(jb[~~(Math.random()*
jb.length)]),k[6]=1/k[7]):k[6]-=b;v[3]&&0>=k[8]&&0>=k[9]?(M(Ab),k[8]=.55,k[9]=1.2):(k[8]-=b,k[9]-=b)}b=Y.length-1;for(;0<=b;b--)if(a=Y[b],a[0]+=Math.cos(a[3])*t*a[2],a[1]+=Math.sin(a[3])*t*a[2],(-20>a[0]||a[0]>B+20||-20>a[1]||a[1]>B+20)&&Y.splice(b,1),a=Oa(a))Y.splice(b,1),--a[6],a[4]=200,5<a[5]&&M(kb[~~(Math.random()*kb.length)]);for(b=0;b<Z.length;b++)a=Z[b],a[0]+=Math.cos(a[2])*(2+3*Math.random()),a[1]+=Math.sin(a[2])*(2+3*Math.random()),0>--a[3]&&Z.splice(b,1);oa={};for(b=F.length-1;0<=b;b--)a:{var a=
F[b],w=b;if(0>=a[6]){if(F.splice(w,1),5!=a[5]){for(w=-10;10>w;w++)Z.push([a[0],a[1],a[2]+Ra*w*Math.random(),100]);if(9<a[5]){for(var w=a[0],q=a[1],a=a[10],r=~~(w/f),A=~~(q/f),p=Math.ceil(a/f),n=A-p;n<A+p;n++)if("undefined"!=typeof C[n])for(var m=r-p;m<r+p;m++)if(1==C[n][m]||Ma((n+.5)*f-q,(m+.5)*f-w)<=a)C[n][m]=0;M(Bb)}else M(Cb)}}else{0<a[4]&&(a[4]-=50);if(10>a[5]){0<a[10]*(a[9]-a[3])&&(a[3]=2==a[5]?xa(a,Sa||[0,0]):4==a[5]?a[3]+(a[9]+a[11]):xa(a,k),a[10]=a[3]>a[9]?a[11]:-a[11]);q=Oa(a);a[9]=4==a[5]?
a[9]+a[10]*t:3!=a[5]||q&&3==q[5]?a[9]+(q?-1:1)*a[10]:a[9]+a[10];5==a[5]&&(a[6]-=t/10);if(5<a[5]&&10>a[5]&&(a[13]-=dt,0>a[13])){a=[(~~(a[0]/f)+.5)*f,(~~(a[1]/f)+.5)*f,a[5]+4];console.log(a);fa.push([a[0],a[1],1,1,a]);F.splice(w,1);break a}4!=a[5]?(a[0]+=Math.cos(a[9])*t*a[12],a[1]+=Math.sin(a[9])*t*a[12]):(1>a[13][6]&&(a[10]*=.99),a[15]=2*f*(-Math.cos(a[16])+1.2),a[16]+=t/200,a[0]=a[13][0]+Math.cos(a[9])*a[15],a[1]=a[13][1]+Math.sin(a[9])*a[15])}else{a[9]-=t;12<=a[5]&&(a[3]+=a[12]*t);if(0>a[9]&&!V)Db[a[5]](a);
a[10]+=dt*a[11];w=a[0];q=a[1];r=a[10];A=~~(w/f);p=~~(q/f);n=Math.ceil(r/f);for(m=p-n;m<p+n;m++)if("undefined"!=typeof C[m])for(var x=A-n;x<A+n;x++)1==C[m][x]||Ma((m+.5)*f-q,(x+.5)*f-w)>=r||(C[m][x]=1)}w=ab(a);oa[w]=oa[w]||[];oa[w].push(a)}}if(0<pa.length&&J>pa[0])switch(b=Aa[pa.splice(0,1)[0]],b.splice(0,1)[0]){case 0:fa.push([b[0],b[1],1,1,b]);break;case 1:b[0].play();break;case 2:GLITCHS=b;break;case 3:M(b[0]);break;case 4:b[0].I=b[1];138==b[1]&&(b[0].stop(),b[0].play());break;case 5:Qa=b[0]}else 0==
pa.length&&(Aa[J+7500]=[21*Math.random()*f,21*Math.random()*f,6],glitchTime=5,pa.push(J+7500));for(b=0;b<fa.length;b++)a=fa[b],a[2]-=dt,0>a[2]&&(F.push(ba(a[4])),9<a[4][2]&&(glitchTime=10,M(Eb)),3==a[4][2]&&(Sa=F[F.length-1]),fa.splice(b,1))}for(b=0;b<K.length;b++)a=K[b],!a[3]||v[0]<a[0]||v[0]>a[0]+a[2]||v[1]<a[1]||v[1]>a[1]+42?a[6]=a[7]=!1:(a[7]=!0,1==v[2]?a[6]=!0:0==v[2]&&a[6]&&(a[6]=!1,a[8]()));e.save();if(Da){e.save();e.beginPath();e.fillStyle="rgba(5,4,13,1)";e.fillRect(0,0,800,600);e.strokeStyle=
"#fff";for(b=0;10>b;b++)a=30*b+Ea,a/=300,a=300*a*a+360,la(),L(0,a+.5,800,void 0,0),la(!0),L(0,600-a-.5,800,void 0,0);la(!0);L(0,240,800,void 0,0);L(400,240,-240,!0,0);la();L(0,360,800,void 0,0);L(400,360,240,!0,0);for(b=1;b<800/60;b++)a=b*b*5+25,la(!0),L(30*b+400,240,-240,!0,a),L(30*-b+400,240,-240,!0,-a),la(),L(30*b+400,360,240,!0,a),L(30*-b+400,360,240,!0,-a);ta?(E("move: awsd",400,231,12,["#FFF"]),E("left click to fire",400,270,12,["#FFF"]),E("right click to warp",400,310,12,["#FFF"])):(E("winners don't use drugs",
401,50,9,["#FFF"]),E("devil",400,250,20,["#FFF"]),E("glitches",400,310,20,["#FFF"]));E("made by agar3s",401,520,9,["#FFF","#F66"]);e.closePath();e.fill();e.stroke()}else{e.fillStyle="rgba(0,0,0,0.1)";e.fillRect(0,0,800,600);e.fillStyle=Va(180,0,185,0,185,0,1);for(b=0;6>b;b++)e.fillRect(800*Math.random(),600*Math.random(),2,2);e.save();e.strokeStyle="rgb(51,193,178)";e.beginPath();shakeScreen=V?[0,0]:[S(v[2],2),S(v[2],2)];e.fillStyle="rgba(15,12,40,"+(.2-(0<k[8]?.1:0))+")";e.translate(l[0]+shakeScreen[0],
l[1]+shakeScreen[1]);e.fillRect(0,0,B,B);la();for(b=0;b<=P;b++)for(a=0;4>a;a+=2)Ta(b*f-.5+a,B);e.strokeStyle="rgba(200,200,200,0.6)";for(b=0;b<=P;b++)Ta(b*f-.5,B);e.closePath();e.stroke();e.restore();e.save();e.beginPath();e.fillStyle="rgba(10,4,10,1)";la(!0);for(a=0;a<P;a++)for(b=0;b<P;b++)0!=C[a][b]&&(e.fillRect(b*f+l[0]+shakeScreen[0],a*f+l[1]+shakeScreen[1],f,f),e.strokeRect(b*f+l[0]+shakeScreen[0]-.5,a*f+l[1]+shakeScreen[1]-.5,f+2,f+2),e.strokeRect(b*f+l[0]+shakeScreen[0]+1.5,a*f+l[1]+shakeScreen[1]+
1.5,f-2,f-2));e.stroke();e.beginPath();e.strokeStyle="rgba(231,197,11,0.3)";for(a=0;a<P;a++)for(b=0;b<P;b++)0!=C[a][b]&&e.strokeRect(b*f+l[0]+shakeScreen[0]+.5,a*f+l[1]+shakeScreen[1]+.5,f,f);e.fill();e.closePath();e.restore();e.save();e.beginPath();for(b=0;b<fa.length;b++)a=fa[b],w=a[2],w/=a[3],w=1*w*(w-2)+1,e.strokeStyle="rgba(38,82,255,"+w+")",e.fillRect(a[0]+l[0]+shakeScreen[0]-w*f/2,a[1]+l[1]+shakeScreen[1]-w*f/2,w*f,w*f);e.closePath();e.fill();e.stroke();e.restore();e.save();e.translate(k[0]+
l[0]+S(v[2],1),k[1]+l[1]+S(v[2],1));e.rotate(k[3]+Math.PI/2);e.lineWidth=3;e.strokeStyle="rgb(201,133,187)";e.beginPath();Ua(za[0],za[1],k[2]);e.closePath();e.stroke();e.restore();e.save();for(b=0;b<F.length;b++)if(q=F[b],!(20>q[0]+l[0]||q[0]+l[0]>D-20||20>q[1]+l[1]||q[1]+l[1]>G-20)){a=q[0]+l[0]+shakeScreen[0]+(.5<ea()?1:-1)*q[4]/40;w=q[1]+l[1]+shakeScreen[1]+(.5<ea()?1:-1)*q[4]/40;e.translate(a,w);e.beginPath();if(10>q[5])e.strokeStyle="hsla("+36*q[5]+",50%,60%,0.8)",e.lineWidth=2,e.rotate(q[9]),
Ua(q[7],q[8],q[2]),e.rotate(-q[9]);else if(14==q[5]){r="hsla("+20*q[3]+",50%,60%, 0.5)";e.lineWidth=2;e.beginPath();e.strokeStyle=0<q[4]?"rgba(180,0,50,0.3)":r;r=q[2]/3.5;e.arc(0,0,r/2,0,2*Math.PI,!1);e.stroke();e.beginPath();e.bezierCurveTo(-r,0,0,-r,r,0);e.bezierCurveTo(r,0,0,r,-r,0);e.stroke();e.rotate(q[3]);for(A=0;6>A;A++)p=U[2*A],n=U[2*A+1],e.beginPath(),e.arc(4*p*r,4*n*r,r,0,2*Math.PI,!1),e.stroke(),e.beginPath(),e.arc(2*p*r,2*n*r,r,0,2*Math.PI,!1),e.stroke(),e.beginPath(),e.moveTo(p*r*4,n*
r*4),e.lineTo(4*r*U[(2*A+2)%12],4*r*U[(2*A+3)%12]),e.lineTo(4*r*U[(2*A+6)%12],4*r*U[(2*A+7)%12]),e.moveTo(p*r*2,n*r*2),e.lineTo(2*r*U[(2*A+2)%12],2*r*U[(2*A+3)%12]),e.lineTo(2*r*U[(2*A+6)%12],2*r*U[(2*A+7)%12]),e.stroke();e.beginPath();e.rotate(-q[3])}else for(e.lineWidth=2,r=(ua[q[5]]-q[9])/ua[q[5]],r=0<q[4]?-55:~~(200*r)*lb[r.toFixed(4)],e.strokeStyle=0<q[4]?"#0ff":0==r?"#66A":"#559",A=0;A<q[7].length;A++)p=q[7][A],n=q[8][A],m=q[2],x=[80+q[4],55+r,130+~~(r/2),0<q[4]?.9:.4],e.beginPath(),e.fillStyle=
"rgba("+x+")",Ua(p,n,m),e.closePath(),e.fill(),e.stroke();e.closePath();e.stroke();e.translate(-a,-w)}e.closePath();e.restore();e.save();e.fillStyle="rgb(40,145,160)";for(b=0;b<Y.length;b++)a=Y[b],20>a[0]+l[0]||a[0]+l[0]>D-20||20>a[1]+l[1]||a[1]+l[1]>G-20||(e.beginPath(),e.arc(a[0]+l[0],a[1]+l[1],a[2],0,2*Math.PI,!1),e.closePath(),e.fill());e.restore();e.save();e.fillStyle=Va(125,50,125,50,125,50,1);for(b=0;b<Z.length;b++)a=Z[b],5>a[0]+l[0]||a[0]+l[0]>D-5||5>a[1]+l[1]||a[1]+l[1]>G-5||(e.beginPath(),
e.fillStyle=Va(125,0,125,100,125,100,a[3]/100),e.arc(a[0]+l[0],a[1]+l[1],2,0,2*Math.PI,!1),e.closePath(),e.fill());e.restore();e.save();E(Qa,401,501,14,["#90702F","#D6AE45"]);V?(e.fillStyle="rgba(0,0,0,0.71)",e.fillRect(0,0,B,B),Ba?(E("-new record-",400,240,22,["#F66","#F6F"]),E("-share it-",400,400,14,["#F6F","#F6F"])):E("game over",400,240,20,["#FFF","#2FF"]),E(J.toFixed(0),400,160,Ba?20:16,["#2F2","#FFF"])):(E(J.toFixed(0),750,60,18,["#2F2","#FFF"],1),E(J>record?"record":record.toFixed(0),750,
110,9,["#F22","#FFF"],1))}e.restore();e.save();e.lineWidth=2;e.translate(v[0],v[1]);e.strokeStyle="#F952FF";e.translate(-10,-10);Ta(10,20);e.closePath();e.restore();e.save();for(b=0;b<K.length;b++)a=K[b],a[3]&&(e.strokeStyle=a[7]?"#066":a[4],e.lineWidth=2,e.strokeRect(a[0],a[1],a[2],42),E(a[5],a[0]+a[2]/2,a[1]+9,12,["#FFF",a[5]]));e.restore();0<aa&&(aa+=.05,.51==aa&&M(Fb));1<aa&&(Da=!1,aa=0,cb());0<aa&&1>aa&&(e.fillStyle="rgba(220,220,220,"+aa+")",e.fillRect(0,0,800,600));e.restore();b=g;h.bindTexture(h.TEXTURE_2D,
mb);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,b);glitchTime--;for(b=0;b<GLITCHS.length;b++)GLITCHS[b]--;ia(H);N(va);h.uniform1i(z(va,"t"),O(mb));h.uniform1f(z(va,"time"),frame/60%180);h.uniform3fv(z(va,"colors"),[0<glitchTime+1||0<GLITCHS[0]?1:0,0<glitchTime+2||0<GLITCHS[1]?1:0,0<glitchTime||0<GLITCHS[2]?1:0]);h.drawArrays(h.TRIANGLES,0,6);ia(qa);N(Fa);h.uniform1i(z(Fa,"t"),O(H[1]));h.uniform1f(z(Fa,"time"),0<glitchTime||0<GLITCHS[3]?15:0);h.drawArrays(h.TRIANGLES,0,6);ia(H);N(Ga);
h.uniform1i(z(Ga,"t"),O(qa[1]));h.uniform1f(z(Ga,"time"),0<glitchTime+1||0<GLITCHS[4]?1:0);h.drawArrays(h.TRIANGLES,0,6);ia(qa);N(Ha);h.uniform1i(z(Ha,"tex"),O(H[1]));h.uniform1f(z(Ha,"rand"),-.5);h.drawArrays(h.TRIANGLES,0,6);ia(H);N(Ia);h.uniform1i(z(Ia,"t"),O(qa[1]));h.uniform1f(z(Ia,"slit_h"),0<glitchTime||0<GLITCHS[5]?9:1);h.drawArrays(h.TRIANGLES,0,6);ia(qa);N(Ja);h.uniform1i(z(Ja,"t"),O(H[1]));h.uniform1f(z(Ja,"time"),frame);h.drawArrays(h.TRIANGLES,0,6);ia(H);N(Wa);h.uniform1i(z(Wa,"t"),O(qa[1]));
h.drawArrays(h.TRIANGLES,0,6);h.bindFramebuffer(h.FRAMEBUFFER,null);h.drawArrays(h.TRIANGLES,0,6);h.flush();V||Da||(J+=1E3*dt*(0<k[8]?Pa:1));requestAnimationFrame(ib)}var Na=new function(){this.F=new rb;var b,a,e,f,h,k,l,n,m,x,v,z;this.r=function(){var a=this.F;f=100/(a.f*a.f+.001);h=100/(a.g*a.g+.001);k=1-a.h*a.h*a.h*.01;l=-a.i*a.i*a.i*1E-6;a.a||(v=.5-a.n/2,z=5E-5*-a.o);n=1+a.l*a.l*(0<a.l?-.9:10);m=0;x=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.V=function(){this.r();var f=this.F;b=f.b*f.b*1E5;a=f.c*f.c*
1E5;e=f.e*f.e*1E5+12;return 3*((b+a+e)/3|0)};this.U=function(B,E){var u=this.F,F=1!=u.s||u.v,D=u.v*u.v*.1,G=1+3E-4*u.w,C=u.s*u.s*u.s*.1,J=1+1E-4*u.t,K=1!=u.s,L=u.x*u.x,M=u.g,I=u.q||u.r,U=u.r*u.r*u.r*.2,P=u.q*u.q*(0>u.q?-1020:1020),Q=u.p?((1-u.p)*(1-u.p)*2E4|0)+32:0,da=u.d,aa=u.j/2,fa=u.k*u.k*.01,Y=u.a,Z=b,ka=1/b,la=1/a,ma=1/e,u=5/(1+u.u*u.u*20)*(.01+C);.8<u&&(u=.8);for(var u=1-u,ca=!1,ha=0,N=0,O=0,ia=0,V=0,S,T=0,ga,H=0,ra,ja=0,y,oa=0,R,pa=0,ea=Array(1024),ba=Array(32),na=ea.length;na--;)ea[na]=0;
for(na=ba.length;na--;)ba[na]=2*Math.random()-1;for(na=0;na<E;na++){if(ca)return na;Q&&++oa>=Q&&(oa=0,this.r());x&&++m>=x&&(x=0,f*=n);k+=l;f*=k;f>h&&(f=h,0<M&&(ca=!0));ga=f;0<aa&&(pa+=fa,ga*=1+Math.sin(pa)*aa);ga|=0;8>ga&&(ga=8);Y||(v+=z,0>v?v=0:.5<v&&(v=.5));if(++N>Z)switch(N=0,++ha){case 1:Z=a;break;case 2:Z=e}switch(ha){case 0:O=N*ka;break;case 1:O=1+2*(1-N*la)*da;break;case 2:O=1-N*ma;break;case 3:O=0,ca=!0}I&&(P+=U,ra=P|0,0>ra?ra=-ra:1023<ra&&(ra=1023));F&&G&&(D*=G,1E-5>D?D=1E-5:.1<D&&(D=.1));
R=0;for(var qa=8;qa--;){H++;if(H>=ga&&(H%=ga,3==Y))for(S=ba.length;S--;)ba[S]=2*Math.random()-1;switch(Y){case 0:y=H/ga<v?.5:-.5;break;case 1:y=1-H/ga*2;break;case 2:y=H/ga;y=6.28318531*(.5<y?y-1:y);y=1.27323954*y+.405284735*y*y*(0>y?1:-1);y=.225*((0>y?-1:1)*y*y-y)+y;break;case 3:y=ba[Math.abs(32*H/ga|0)]}F&&(S=T,C*=J,0>C?C=0:.1<C&&(C=.1),K?(V+=(y-T)*C,V*=u):(T=y,V=0),T+=V,ia+=T-S,y=ia*=1-D);I&&(ea[ja%1024]=y,y+=ea[(ja-ra+1024)%1024],ja++);R+=y}R*=.125*O*L;B[na]=1<=R?32767:-1>=R?-32768:32767*R|0}return E}},
sa,Ka,I,M,ya=window.AudioContext||window.webkitAudioContext;if(ya){sa=new ya;Ka=sa.createDynamicsCompressor();var Xa=sa.createGain();Xa.gain.value=window.chrome?.2:.4;Ka.connect(Xa);Xa.connect(sa.destination);I=function(b){var a=[];sb(b,sa,function(b){a.push(b)});return a};M=function(b){if(b[0]){var a=sa.createBufferSource();a.context.sampleRate+=~~(500*Math.random());a.buffer=b[0];a.start(0);a.connect(Ka);setTimeout(function(){a.disconnect(Ka)},1E3*b[0].duration+300)}}}else I=M=function(){};var Gb=
440*Math.pow(Math.pow(2,1/12),-9),Hb=/^[0-9.]+$/,tb=/\s+/,Ib=/(\d+)/,nb={};"B#-C C#-Db D D#-Eb E-Fb E#-F F#-Gb G G#-Ab A A#-Bb B-Cb".split(" ").forEach(function(b,a){b.split("-").forEach(function(b){nb[b]=a})});ja.M=function(b){b=b.split(Ib);return Gb*Math.pow(Math.pow(2,1/12),nb[b[0]])*Math.pow(2,(b[1]||4)-4)};ja.L=function(b){return Hb.test(b)?parseFloat(b):b.toLowerCase().split("").reduce(function(a,b){return a+("w"===b?4:"h"===b?2:"q"===b?1:"e"===b?.5:"s"===b?.25:0)},0)};x.prototype.J=function(){var b=
this.gain=this.C.createGain();[["bass",100],["mid",1E3],["treble",2500]].forEach(function(a,e){e=this[a[0]]=this.C.createBiquadFilter();e.type="peaking";e.frequency.value=a[1];b.connect(b=e)}.bind(this));b.connect(this.C.destination)};x.prototype.push=function(){Array.prototype.forEach.call(arguments,function(b){this.B.push(b instanceof ja?b:new ja(b))}.bind(this));return this};x.prototype.createOscillator=function(){this.stop();this.A=this.C.createOscillator();this.K?this.A.setPeriodicWave(this.C.createPeriodicWave.apply(this.C,
this.K)):this.A.type=this.Y||"square";this.A.connect(this.gain);return this};x.prototype.R=function(b,a){var e=60/this.I*this.B[b].duration,f=e*(1-(this.D||0));this.G(this.B[b].frequency,a);this.H&&this.B[b].frequency&&this.S(b,a,f);this.G(0,a+f);return a+e};x.prototype.N=function(b){return this.B[b<this.B.length-1?b+1:0]};x.prototype.O=function(b){return b-Math.min(b,60/this.I*this.H)};x.prototype.S=function(b,a,e){var f=this.N(b);this.G(this.B[b].frequency,a+this.O(e));this.P(f.frequency,a+e)};
x.prototype.G=function(b,a){this.A.frequency.setValueAtTime(b,a)};x.prototype.P=function(b,a){this.A.frequency.linearRampToValueAtTime(b,a)};x.prototype.play=function(b){b="number"===typeof b?b:this.C.currentTime;this.createOscillator();this.A.start(b);this.B.forEach(function(a,e){b=this.R(e,b)}.bind(this));this.A.stop(b);this.A.onended=this.loop?this.play.bind(this,b):null;return this};x.prototype.stop=function(){this.A&&(this.A.onended=null,this.A.disconnect(),this.A=null);return this};var ub=[8767,
518,1115,1039,1126,1133,1149,7,1151,1135,5123,1143,5391,57,4367,121,113,1085,1142,4361,30,2672,56,694,2230,63,1139,2111,3187,1133,4353,62,8752,10294,10880,4736,8713,0,16,1088,256],vb=[function(b,a,e,f,h){a+=(f+10)*b.length/2;$a(b,a,e,f,h)},$a],oa={},ob={preserveDrawingBuffer:!0},h=c.getContext("webgl",ob)||c.getContext("experimental-webgl",ob),e=g.getContext("2d"),D=800,G=600,db=localStorage;d.style.webkitTransformOrigin=d.style.transformOrigin="0 0";g.width=c.width=D;g.height=c.height=G;c.style.top=
"0px";c.style.left="0px";document.oncontextmenu=function(b){b.preventDefault()};h.viewport(0,0,D,G);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0);var Jb=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,Jb);h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),h.STATIC_DRAW);var Ja=ha("precision highp float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(){vec2 a=uv*dim;vec4 b=texture2D(t,uv);vec4 c=vec4(0.0);float d=0.02*sin(time)+0.29;float e=0.03;vec4 f=texture2D(t,uv+vec2((-15.0/dim.x)*d,0));for(int g=0;g<9;g++){float h=float(mod(float(g),4.0));float i=float(g/3);vec2 j=vec2(a.x+h,a.y+i);vec2 k=vec2(a.x-h,a.y+i);vec2 l=vec2(a.x+h,a.y-i);vec2 m=vec2(a.x-h,a.y-i);c+=texture2D(t,j/dim)*e;c+=texture2D(t,k/dim)*e;c+=texture2D(t,l/dim)*e;c+=texture2D(t,m/dim)*e;}b+=c;vec4 n=texture2D(t,uv+vec2((8.0/dim.x)*d,0));vec4 o=texture2D(t,uv+vec2((-7.5/dim.x)*d,0));b.r=b.r+n.r*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;b.b=b.b+f.b*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;b.g=b.g+o.g*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;vec2 p=uv*sin(time);float q=fract(sin(dot(p.xy,vec2(12.9898,78.233)))*43758.5453);vec3 r=vec3(q);b.rgb=mix(b.rgb,r,0.08);gl_FragColor.rgba=b;}");
h.uniform2f(z(Ja,"dim"),D,G);var Wa=ha("precision highp float;uniform sampler2D t;uniform vec2 dim;varying vec2 uv;void main(){vec2 a=uv*dim;a-=dim/2.0;float b=length(a);if(b<600.0){float c=b/600.0;a*=mix(1.0,smoothstep(0.0,600.0/b,c),0.125);}a+=dim/2.0;vec4 d=texture2D(t,a/dim);float e=distance(uv,vec2(0.5,0.5));d.rgb*=smoothstep(0.8,0.35*0.799,e);gl_FragColor=d;}");h.uniform2f(z(Wa,"dim"),D,G);var va=ha("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;uniform vec3 colors;void main(void){float a=sin(time);vec4 b=texture2D(t,uv);vec4 c=texture2D(t,uv+vec2((-15.0/dim.x),0));vec4 d=texture2D(t,uv+vec2((15.0/dim.x),0));vec4 e=texture2D(t,uv+vec2((-7.5/dim.x),0));if(colors.r==1.0){b.r=b.r+d.r*max(1.0,sin(uv.y*dim.y*1.2))*a;}if(colors.g==1.0){b.b=b.b+c.b*max(1.0,sin(uv.y*dim.y*1.2))*a;}if(colors.b==1.0){b.g=b.g+e.g*max(1.0,sin(uv.y*dim.y*1.2))*a;}gl_FragColor.rgba=b.rgba;}");
h.uniform2f(z(va,"dim"),D,G);var Fa=ha("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(void){float a=5.0;float b=0.5;vec2 c=uv*dim;vec2 d=c+vec2(floor(sin(c.y/a*time+time*time))*b*time,0);d=d/dim;vec4 e=texture2D(t,d);gl_FragColor.rgba=e.rgba;}");h.uniform2f(z(Fa,"dim"),D,G);var Ga=ha("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(void){float a=0.3;float b=0.3;float c=10.00*time;float d=10.00*time;float e=dim.x;float f=dim.y;vec2 g=uv*dim;vec2 h=vec2(max(3.0,min(float(e),g.x+sin(g.y/(153.25*a*a)*a+a*c+b*3.0)*d)),max(3.0,min(float(f),g.y+cos(g.x/(251.57*a*a)*a+a*c+b*2.4)*d)-3.0));vec4 i=texture2D(t,h/dim);gl_FragColor.rgba=i.rgba;}");
h.uniform2f(z(Ga,"dim"),D,G);var Ha=ha("precision mediump float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform float rand;void main(void){vec4 a=texture2D(tex,uv);gl_FragColor.rgba=a.rgba;}");h.uniform2f(z(Ha,"dim"),D,G);var Ia=ha("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float slit_h;void main(void){vec2 a=uv*dim;vec2 b=vec2(3.0+floor(a.x/slit_h)*slit_h,a.y);vec4 c=texture2D(t,b/dim);gl_FragColor.rgba=c.rgba;}");h.uniform2f(z(Ia,
"dim"),D,G);var H=Za(),qa=Za(),mb=Ya(),v=[0,0,0];c.onmousedown=function(b){v[2]=3==b.which?0:1;v[3]=3==b.which?1:0;b.preventDefault()};c.onmouseup=function(b){v[2]=0;v[3]=0;b.preventDefault()};c.onmousemove=function(b){0<GLITCHS[6]||(v[0]=800*b.offsetX/c.offsetWidth,v[1]=600*b.offsetY/c.offsetHeight)};var T=0,ma={65:1,87:2,68:4,83:8};document.onkeydown=function(b){var a=b.keyCode||b.which;ma[a]&&(T|=ma[a],b.preventDefault())};document.onkeyup=function(b){var a=b.keyCode?b.keyCode:b.which;T&ma[a]&&
(T^=ma[a],b.preventDefault())};var La=new ya,da,R,Q,ka;g2e="G2 e";c2e="C2 e";lead="Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s".split(";");harmony=[g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e"];bass2="- w;D1 s;- s;D1 e;- q;- m;- w".split(";");bass=basebass=["C1 e","- e","A1 e","- e"];da=new x(La,138,lead);R=new x(La,
138,harmony);Q=new x(La,138,bass);ka=new x(La,138,bass2);da.D=.81;R.D=.55;Q.D=.05;Q.H=.35;ka.D=.05;da.gain.gain.value=.12;R.gain.gain.value=.09;Q.gain.gain.value=.11;ka.gain.gain.value=.1;window.W=da;window.X=Q;var Fb=I([3,.2421,.1876,.1891,.2844,.5008,,-.0619,.2484,,.0432,-.7113,.3743,.007,8E-4,.0474,-.0023,.705,.7098,.0034,.011,.0259,5E-4,.42]),jb=bb([0,,.12,.14,.3,.8,,-.3399,.04,,,-.04,,.51,-.02,,-.74,,.21,.24,,,.02,.41],6),Eb=I([1,,.38,,.03,.03,,.8799,.96,.9411,.9785,-.9219,.82,.7513,.6049,.8,
-.6041,-.8402,.28,.7,.78,.1423,-.7585,.5]),Cb=I([3,.0597,.11,.2,.2513,.5277,,.5841,-.0248,-.076,.5312,-.2978,.7065,-.9091,.4202,.966,.7036,.4575,1,-.9064,.6618,.0266,-.0655,.42]),Ab=I([2,,.09,.06,.45,.27,.02,-.28,.82,.41,.58,-.88,.07,.448,-.355,1,.54,-.073,1,,,,,.42]),Bb=I([3,.002,.6302,.499,.0804,.5224,,-.0324,4E-4,.5448,,-.7762,-.1765,.6762,-.4386,.7747,-.0347,-.2051,.931,-.0732,.4693,.1444,,.42]),zb=I([1,.145,.2094,.4645,.4954,.7134,,-.1659,-.8866,.9733,,-.572,-.7927,-.1186,.4699,.6044,.4604,.1762,
.9998,.0236,.1554,,.659,.42]);I([1,.0076,.66,,,.09,,.96,.32,.1,.97,-1,,.0615,-.1587,1,,-.02,.83,.12,.23,.0231,-.02,.96]);var kb=bb([3,.0691,.183,.0949,.5678,.46,,-1E-4,,,,-.542,-.2106,-.2402,-.1594,,-.3133,-.0707,.1592,-.4479,.5788,.0169,-.919,.42],8),yb=I([3,.0258,.16,.0251,.16,.05,,-.86,-.4088,.0956,.256,-.62,,-6E-4,-.0352,,-.0882,-.0443,.9219,-.0531,.8727,.031,2E-4,.6]),P,f,V,B,C,Pa,l,F,k,za,Y,Z,Qa,Ra,J,Aa,Sa,pa,Ba;shakeScreen=[0,0];frame=glitchTime=0;GLITCHS=[0,0,0,0,0,0,0];var Da=!0,Ea=0,ta=
!1,aa=0;cb();var pb=window.location.href||"http://js13kgames.com/entries/",wa=!1;document.getElementById("f").onclick=function(b){document.fullscreenEnabled?wa?document.exitFullscreen():document.body.requestFullscreen():document.webkitFullscreenEnabled?wa?document.webkitExitFullscreen():document.body.webkitRequestFullscreen():document.mozFullScreenEnabled&&(wa?document.mozCancelFullScreen():document.body.mozRequestFullScreen());wa=!wa;b.preventDefault()};for(var K=[[250,320,300,!1,"#F66","start again",
!1,!1,fb],[120,460,250,!1,"#69F","twitter",!1,!1,function(){window.open("https://twitter.com/home?status="+encodeURIComponent(gb()+pb))}],[430,460,250,!1,"#32F","facebook",!1,!1,function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+(encodeURIComponent(pb)+"&description="+encodeURIComponent(gb())))}],[240,380,320,!0,"#6FF","fire to start",!1,!1,fb],[280,440,240,!0,"#6FF","controls",!1,!1,function(){ta=!ta;K[3][3]=!ta;K[4][5]=ta?"go back":"controls"}]],fa=[],wb=[[15,0,0,0,1,[1,.25,
-1,.25],[0,-.75,0,.75],0,3,.1,1.1],[15,0,0,1,4,[1,.3,0,-2,0,.3],[0,1,.3,0,-.3,-1],0,3,.05,.8],[8,0,0,2,2,[1,.25,-1,.25],[0,-.5,0,.5],0,3.5,.15,1.6],[20,0,0,3,9,[0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75,-1,-.75,-.75,-.25],[-1,-.75,-.75,-.25,0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75],0,1,.12,1.05],[12,0,0,4,5,[0,.25,1,.25,0,-.25,-1,-.25],[-1,-.25,0,.25,1,.25,0,-.25],0,3,.03,2.5,0,0,0],[3,0,0,5,150,[1,-1,-1],[0,1,-1],0,0,0,1.4],[16,0,0,6,9,[1,.25,-1,.25],[0,-.75,0,.75],0,0,0,.6,3.5],[18,0,0,7,
8,[1,.25,-1,.25],[0,.75,0,-.75],0,0,0,.8,2.5],[20,0,0,8,7,[1,.25,-1,.25],[0,.75,0,-.75],0,0,0,1.2,1.5],,[f/2,0,0,10,9,[[-1,0,0],[0,0,1],[-1,1,0]],[[-1.5,-.5,.5],[-.5,.5,-1.5],[-1.5,-1.5,-.5]],100,0,7],[f/2,0,0,11,10,[[-1,0,0,-1],[1,0,0,1],[-1,0,1,0],[-1,0,1,0],[-1,0,0,-1],[1,0,0,1]],[[-1.25,-.5,.8,.25],[-1.25,-.5,.8,.25],[-1.25,-.5,-1.25,-1.8],[.25,-.5,.25,.8],[.25,-.5,-1.8,-1.25],[.25,-.5,-1.8,-1.25]],100,0,6],[.8*f,0,0,12,15,[[-.5,0,.5,0],[-.5,0,0],[.5,0,0],[-.5,0,0],[.5,0,0]],[[-.75,-1,-.75,-.5],
[-.75,-.5,.25],[-.75,-.5,.25],[-.75,-1.75,-.5],[-.75,-1.75,-.5]],.9,0,4,.004],[1.2*f,0,0,13,30,[[0,-.75,0],[0,.75,0],[-.75,.75,0],[-.75,.75,0],[-.35,.35,0]],[[-1,.5,0],[-1,.5,0],[.5,.5,0],[-.5,-.5,1],[.25,.25,-.5]],.9,0,13,.1],[2.5*f,0,0,14,200,[],[],.9,0,60,.003,1,0,[6,7,6,7,8]]],ua={10:2800,11:2600,12:60,13:200},U=[],ca=0;6>ca;ca++){var qb=(ca-3)*Math.PI/3+Math.PI/6;U.push(Math.cos(qb),Math.sin(qb))}for(var lb={},ca=0;1E4>ca;ca++)lb[(ca/1E4).toFixed(4)]=xb(ca/1E4);var Db={10:function(b){for(var a=
0;9>a;a++)if(4!=a){var e=b[0]+(a%3-1)*f,h=b[1]+(~~(a/3)-1)*f;fa.push([e,h,.65,.65,[e,h,1==a?1:0]])}b[9]=ua[10]},11:function(b){for(var a=0;12>a;a++)if(4!=a){var e=b[0]+(a%3-1)*f,h=b[1]+(~~(a/3)-1)*f;fa.push([e,h,.65,.65,[e,h,1==a?3:2]])}b[9]=ua[11]},12:function(b){for(var a=0;2>a;a++){var e=ba([b[0],b[1],5]);e[9]=b[3]+a*Math.PI;F.push(e)}b[9]=ua[12]},13:function(b){for(var a=0;6>a;a++){var e=ba([b[0],b[1],5]);e[9]=b[3]+(a-3)*Math.PI/3;e[12]+=1.2;F.push(e)}b[9]=100},14:function(b){for(var a=0;6>a;a++){var e=
ba([b[0],b[1],5]);e[9]=b[3]+(a-3)*Math.PI/3+Math.PI/6;e[12]-=.6;F.push(e)}0==b[13]%16&&(e=ba([b[0],b[1],b[15][b[14]%b[15].length]]),e[9]=b[3]/2,F.push(e),b[14]++);if(0==b[13]%100)for(a=0;6>a;a++)hb(b,a);b[9]=70;b[13]++}},Ca;requestAnimationFrame(ib)})();
