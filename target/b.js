(function(){function bb(b){b/=300;return 300*b*b+360}function Ga(b,a){return Math.atan2(a[1]-b[1],a[0]-b[0])}function Qa(b,a){return Math.sqrt(b*b+a*a)}function N(b){var a;a=k.VERTEX_SHADER;a=k.createShader(a);k.shaderSource(a,"attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,.0,1.);uv=.5*(p+1.);}");k.compileShader(a);var e=a;a=k.FRAGMENT_SHADER;a=k.createShader(a);k.shaderSource(a,b);k.compileShader(a);b=k.createProgram();k.attachShader(b,e);k.attachShader(b,a);k.linkProgram(b);k.useProgram(b);
e=k.getAttribLocation(b,"p");k.enableVertexAttribArray(e);k.vertexAttribPointer(e,2,k.FLOAT,!1,0,0);return[b]}function ha(b,a){return b[a]||(b[a]=k.getUniformLocation(b[0],a))}function cb(){var b=k.createTexture();k.bindTexture(k.TEXTURE_2D,b);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);return b}function Hb(b){k.activeTexture(k.TEXTURE0+
0);k.bindTexture(k.TEXTURE_2D,b);return 0}function db(){var b=k.createFramebuffer();k.bindFramebuffer(k.FRAMEBUFFER,b);var a=cb();k.texImage2D(k.TEXTURE_2D,0,k.RGBA,O,P,0,k.RGBA,k.UNSIGNED_BYTE,null);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,a,0);return[b,a]}function Ib(){this.T=function(b){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=b[a]||0;.01>this.c&&(this.c=.01);b=this.b+this.c+this.e;.18>b&&(b=.18/b,this.b*=b,this.c*=b,this.e*=b)}}function Jb(b,a,e){Ra.G.T(b);
var h=Ra.V();b=new Uint8Array(4*((h+1)/2|0)+44);var h=2*Ra.U(new Uint16Array(b.buffer,44),h),m=new Uint32Array(b.buffer,0,44);m[0]=1179011410;m[1]=h+36;m[2]=1163280727;m[3]=544501094;m[4]=16;m[5]=65537;m[6]=44100;m[7]=88200;m[8]=1048578;m[9]=1635017060;m[10]=h;h+=44;for(m=0;m<h;m+=3);a&&a.decodeAudioData(b.buffer,e)}function qa(b){b=b.split(Kb);this.frequency=qa.M(b[0])||0;this.duration=qa.L(b[1])||0}function A(b,a,e){this.C=b||new Ha;this.J();this.D=a||120;this.loop=!0;this.F=this.I=0;this.B=[];
this.push.apply(this,e||[])}function H(b,a,q,h){e.moveTo(b,a);e.lineTo(b+q,a+h)}function eb(b,a,q,h,m,k){e.save();e.beginPath();p(m);for(m=0;m<b.length;m++){var f=Lb["0123456789?abcdefghijklmnopqrstuvwxyz .-'/".indexOf(b[m])],l=C[0]+a-(h+k)*(b.length-m),n=C[1]+q,u=h,w=u-4,v=u/2-4;f&1&&H(l+2,n-1,w,0);f&2&&H(u+l+1,n,0,u-1);f&4&&H(u+l+1,u+n+1,0,u-1);f&8&&H(l+2,2*u+n+1,w,0);f&16&&H(l-1,n+u+1,0,u-1);f&32&&H(l-1,n,0,u-1);f&64&&H(l+2,u+n,v,0);f&128&&H(l+2,n+2,v,w);f&256&&H(u/2+l,n+2,0,w);f&512&&H(u+l-2,
n+2,-v,w);f&1024&&H(u/2+l+2,u+n,v,0);f&2048&&H(u/2+l+2,u+n+2,v,w);f&4096&&H(u/2+l,u+n+2,0,w);f&8192&&H(l+2,2*u+n-2,v,-u+4)}e.closePath();e.stroke();e.restore()}function D(b,a,e,h,f,k){var l;l=l||f.length;k=k||0;for(var n=25>h?10:.5*h,p=0;p<l;p++)Mb[k](b,a+p,e+p,h,f[p]||f[0],n)}function fb(b){return Math.round(b[0]/84)+"-"+Math.round(b[1]/84)}function Sa(b){for(var a={},e,h=0;9>h;h++)if(e=fb([b[0]+84*(h%3-1),b[1]+84*(~~(h/3)-1)]),!a[e])for(a[e]=1,e=ka[e],h=0;e&&h<e.length;h++)if(Qa(b[1]-e[h][1],b[0]-
e[h][0])<e[h][2]+b[2])return e[h]}function p(b,a,q){e[["strokeStyle","fillStyle","lineWidth"][a||0]]=q||gb[b]}function Q(b,a,e,h,f){k.bindFramebuffer(k.FRAMEBUFFER,b[0]);k.useProgram(e[0]);k.uniform1i(ha(e,"tex"),Hb(a));void 0!=h&&k.uniform1f(ha(e,"time"),h);f&&k.uniform3fv(ha(e,"colors"),f);k.drawArrays(k.TRIANGLES,0,6)}function hb(b,a){for(var e=[],h=0;h<a;h++){var f=b.slice();f[5]=.05*(h-a/2)+b[5];e.push(Y(f))}return e}function ib(){ka={};R=21;n=40;la=!1;ia=0;v=R*n;I=[];Ta=.3;l=[(800-v)/2,(600-
v)/2,370,270];F=[];f=[10.5*n,10.5*n,16,0,150,0,0,12,0,0];xa=[[0,1,0,-1],[-1,1,.5,1]];S=[];ma=[];Ua="";jb=Math.PI/2;Z=T=0;wave=1;E=[0,0,0,0,0,0,0,0];ja={500:[1,J],2500:[0,10,5,10],8999:[5,"what are you doing?"],10500:[1,z],10800:[8,2],11E3:[0,5,5,10],18E3:[0,15,15,10],18001:[5,""],25E3:[0,15,5,10],31E3:[0,5,15,10],37E3:[0,10,11,11],37500:[1,U],46E3:[5,"are you trying to stop us?"],48500:[2,10,0,0,0,10,10,10],49E3:[2,10,10,10,15,10,20,10],49001:[4,z,1],49002:[4,U,1],49003:[4,J,1],49500:[8,3],50004:[2,
60,60,68,55,50,45,60],51E3:[4,z,138],51001:[4,U,138],51002:[4,J,138],51003:[5,"we are perfection"],52E3:[0,4,10,11],53E3:[0,14,10,10],55550:[5,""],61E3:[0,10,16,11],61003:[5,"we are creation"],66550:[5,""],67E3:[0,16,10,11],68E3:[0,6,10,10],72E3:[0,10,4,11],80501:[2,1E3,0,0,0,0,0,10],83E3:[0,10,9,12],83500:[1,K],95050:[5,"you must stop this"],99950:[5,"is inevitable!"],99980:[8,4],1E5:[0,10,1,12],103050:[5,""],106E3:[0,1,10,12],111E3:[0,19,10,12],116E3:[0,10,19,12],14E4:[8,5],140001:[5,"can't you understand?"],
141600:[0,10,12,10],141601:[0,12,13,10],141602:[0,12,15,10],141603:[0,10,16,10],141604:[0,8,15,10],141605:[0,8,13,10],145050:[5,""],156800:[6,"stop"],156900:[6,"now"],157E3:[0,10,14,13],18E4:[6,"you"],180100:[6,"are"],180200:[6,"the"],180300:[6,"glitch"],181E3:[8,6],182E3:[7,U],182050:[7,K],182100:[7,z],182150:[7,J],185100:[2,300,0,300,0,0,0,0],187E3:[0,10,10,14],189E3:[1,U],189001:[1,K],189002:[1,z],189003:[1,J],300100:[1,J],305E3:[0,10,5,10],308E3:[1,z],31E4:[0,10,6,11],311E3:[1,J],315E3:[0,14,
6,10],317E3:[0,14,14,10],319E3:[0,6,14,10],32E4:[0,6,6,10],335E3:[0,11,11,12],336E3:[0,9,11,12],337E3:[0,11,9,12],338E3:[0,9,9,12],35E4:[0,19,19,11],352E3:[0,1,19,11],354E3:[0,1,1,11],355E3:[0,19,1,11],365E3:[0,10,8,10],366E3:[0,11,9,10],367E3:[0,12,10,10],368E3:[0,11,11,10],369E3:[0,10,12,10],37E4:[0,9,11,10],371E3:[0,8,10,10],372E3:[0,9,9,10],395E3:[0,1,1,12],395001:[0,1,19,12],395002:[0,19,19,12],395003:[0,20,1,12],395004:[0,10,10,12],425E3:[0,0,10,13],425001:[0,20,10,13],570001:[0,10,10,13]};
Va=void 0;for(var b=0;b<R;b++){I.push([]);for(var a=0;a<R;a++)I[b].push([])}for(b=0;b<R-1;b++)10!=b&&(ja[45E4+6E3*b]=[0,b,b,10],ja[453E3+6E3*b]=[0,R-b-1,b,10]);ra=Object.keys(ja).map(function(a){return parseInt(a)});U.stop();K.stop();z.stop();J.stop();record=parseFloat(kb.getItem("agar3sjs13k-record")||0);for(b=0;aa&&b<aa.length;b++)aa[b][3]=!1;Ia=!1;lb();mb()}function mb(){Ja&&(xa=[[0,-.5,-.25,-1,-.5,-.4,-.5,-.25,0,.25,.5,.4,.5,1,.25,.5],[-.25,0,-1,.25,.75,.5,.25,.2,.8,.2,.25,.5,.75,.25,-1,0]],f[4]=
160,f[2]=20,f[7]=22)}function L(b,a,q,h,f){e.moveTo(b,a);e.lineTo(b+(h?f:q),a+(h?q:f))}function Wa(b,a){L(b,0,a,!0,0);L(0,b,a,void 0,0)}function nb(){ea=.01}function ya(b,a){E[6]=30;Xa=a||30;Z=10;sa=b}function ob(){return"I reached "+T.toFixed()+" "+(Ja?"#godMode ":"")+"points in #evilGlitch #js13k #js13kgames by @agar3s "}function w(b,a){return Math.random()*(b||1)+(a||0)}function lb(){var b=w(10,5);E=[b,b,b,w(10,5),w(10,5),w(10,5),0]}function Ka(b,a,e,h){14==h[2]&&(e*=2,M(Nb));ta.push([b,a,e,e,
h])}function pb(b,a){var e=ua([b[0]+10*Math.cos(Math.PI*a/3),b[1]+10*Math.sin(Math.PI*a/3),4]);e[13]=b;e[9]=Ga(e,b);e[3]=e[9]+b[11];e[15]=0;e[16]=0;F.push(e)}function ua(b){b=b.slice(0,2).concat(La[b[2]].slice(0));if(12==b[5]||14==b[5])for(var a=0;6>a;a++)pb(b,a);return b}function Ob(b){if(.99<b)return 1;var a=1/b;return 100*b%a>a/2?1:0}function za(b,a){return b?w(2*a,-a):0}function Ya(b,a,f){e.moveTo(b[0]*f,a[0]*f);for(var h=1;h<b.length;h++)e.lineTo(b[h]*f,a[h]*f);e.lineTo(b[0]*f,a[0]*f)}function Za(b,
a,e,h,f,k){for(var l=-h;l<h;l++)ma.push([b,a,w(jb*l,e),f||60,k])}function qb(b){Ma||(Ma=b);dt=Math.min(100,b-Ma)/1E3;Ma=b;ia++;if(Aa)Ba++,30<Ba&&(Ba=0);else if(Ca){switch(V){case 90:ya("what",30);break;case 120:ya("have",30);break;case 150:ya("you",30);break;case 180:ya("done?",120);break;case 185:E=[100,100,100,0,0,0,0];break;case 215:E=[100,100,100,100,100,100,100];U.stop();K.stop();K.D=1;K.play();z.stop();z.D=1;z.play();J.stop();break;case 320:K.stop();z.stop();K.D=138;z.D=138;sa="";break;case 434:fa=
0}435<V&&1694>V&&(sa=Pb[~~((V-435)/180)]);1694<V&&(Ca=!1,T=3E5,wave=7,F=[],S=[],Ja=!0,mb());V++}else if(0>E[6]){b=dt;if(!la){t=b*f[4]*(0<f[8]?Ta:1);var a=b*f[4]*(0<f[8]?1.4:1);I[Math.round(f[1]/n)]&&1==I[Math.round(f[1]/n)][Math.round(f[0]/n)]&&(a-=.5);oa&ba[65]&&(f[0]-=a,f[0]<f[2]&&(f[0]=f[2]),f[0]>l[2]&&f[0]<v-l[2]&&(l[0]+=a),32<l[0]&&(l[0]=32));oa&ba[87]&&(f[1]-=a,f[1]<f[2]&&(f[1]=f[2]),f[1]>l[3]&&f[1]<v-l[3]&&(l[1]+=a),27<l[1]&&(l[1]=27));oa&ba[83]&&(f[1]+=a,f[1]>v-f[2]&&(f[1]=v-f[2]),f[1]>l[3]&&
f[1]<v-l[3]&&(l[1]-=a),-272>l[1]&&(l[1]=-272));oa&ba[68]&&(f[0]+=a,f[0]>v-f[2]&&(f[0]=v-f[2]),f[0]>l[2]&&f[0]<v-l[2]&&(l[0]-=a),-67>l[0]&&(l[0]=-67));f[3]=Ga([f[0]+l[0],f[1]+l[1]],B);f[5]+=25*t*(8*B[2]+1);f[5]%=360;if(Sa(f)){M(Qb);Za(f[0],f[1],f[2],10,80,6);xa=[[],[]];la=!0;U.stop();K.stop();z.stop();J.stop();aa[0][3]=!0;t=30*dt;if(Ia=T>record)record=T,kb.setItem("agar3sjs13k-record",T),aa[1][3]=!0,aa[2][3]=!0;ia=0}B[2]&&0>=f[6]&&0>=f[8]?(S.push([f[0]+za(1,2+f[7]/30),f[1]+za(1,2+f[7]/30),2,f[3]+za(1,
.05+.001*f[7])]),M(rb[~~w(rb.length)]),f[6]=1/f[7]):f[6]-=b;B[3]&&0>=f[8]&&0>=f[9]?(M(sb),f[8]=.55,f[9]=1.2):(f[8]-=b,f[9]-=b)}b=S.length-1;for(;0<=b;b--){a=S[b];a[0]+=Math.cos(a[3])*t*a[2];a[1]+=Math.sin(a[3])*t*a[2];(-20>a[0]||a[0]>v+20||-20>a[1]||a[1]>v+20)&&S.splice(b,1);var q=Sa(a);q&&(0<--q[6]&&Za(a[0],a[1],-a[3],2,10,9),S.splice(b,1),q[4]=200,9<q[5]&&M(tb[~~w(tb.length)]))}for(b=0;b<ma.length;b++)a=ma[b],a[0]+=Math.cos(a[2])*w(3,2),a[1]+=Math.sin(a[2])*w(3,2),0>--a[3]&&ma.splice(b,1);0<fa&&
(fa-=.1);ka={};for(b=F.length-1;0<=b;b--)a:if(a=F[b],q=b,0>=a[6]){if(F.splice(q,1),5!=a[5])if(14==a[5]&&(Ca=!0),Za(a[0],a[1],a[2],La[a[5]][0],2*La[a[5]][0],a[5]+24),9<a[5]){for(var q=a[0],h=a[1],a=a[10],m=~~(q/n),x=~~(h/n),W=Math.ceil(a/n),G=x-W;G<x+W;G++)if("undefined"!=typeof I[G])for(var X=m-W;X<m+W;X++)if(1==I[G][X]||Qa((G+.5)*n-h,(X+.5)*n-q)<=a)I[G][X]=0;fa=4;M(Rb)}else M(Sb)}else{0<a[4]&&(a[4]-=50);if(10>a[5]){0<a[10]*(a[9]-a[3])&&(a[3]=2==a[5]?Ga(a,Va||[0,0]):4==a[5]?a[3]+(a[9]+a[11]):Ga(a,
f),a[10]=a[3]>a[9]?a[11]:-a[11]);h=Sa(a);a[9]=4==a[5]?a[9]+a[10]*t:3!=a[5]||h&&3==h[5]?a[9]+(h?-1:1)*a[10]:a[9]+a[10];5==a[5]&&(a[6]-=t/10);if(5<a[5]&&10>a[5]&&(a[13]-=dt,0>a[13])){a=[(~~(a[0]/n)+.5)*n,(~~(a[1]/n)+.5)*n,a[5]+4];Ka(a[0],a[1],1,a);F.splice(q,1);break a}4!=a[5]?(a[0]+=Math.cos(a[9])*t*a[12],a[1]+=Math.sin(a[9])*t*a[12]):(1>a[13][6]&&(a[10]*=.99),a[15]=2*n*(-Math.cos(a[16])+1.2),a[16]+=t/200,a[0]=a[13][0]+Math.cos(a[9])*a[15],a[1]=a[13][1]+Math.sin(a[9])*a[15])}else{a[9]-=t;12<=a[5]&&
(a[3]+=a[12]*t);if(0>a[9]&&!la)Tb[a[5]](a);a[10]+=dt*a[11];q=a[0];h=a[1];m=a[10];x=~~(q/n);W=~~(h/n);G=Math.ceil(m/n);for(X=W-G;X<W+G;X++)if("undefined"!=typeof I[X])for(var u=x-G;u<x+G;u++)1==I[X][u]||Qa((X+.5)*n-h,(u+.5)*n-q)>=m||(I[X][u]=1)}q=fb(a);ka[q]=ka[q]||[];ka[q].push(a)}if(0<ra.length&&T>ra[0])switch(b=ja[ra.splice(0,1)[0]],b.splice(0,1)[0]){case 0:b[0]=(b[0]+.5)*n;b[1]=(b[1]+.5)*n;Ka(b[0],b[1],1,b);break;case 1:b[0].play();break;case 2:E=b;break;case 3:M(b[0]);break;case 4:b[0].D=b[1];
138==b[1]&&(b[0].stop(),b[0].play());break;case 5:Ua=b[0];break;case 6:ya(b[0]);break;case 7:b[0].stop();break;case 8:wave=b[0]}else 0==ra.length&&($a++>=ub.length&&($a=0),ja[T+5E3]=[0,~~w(21),~~w(21),ub[$a]],ra.push(T+5E3));for(b=0;b<ta.length;b++)a=ta[b],a[2]-=dt,0>a[2]&&(F.push(ua(a[4])),9<a[4][2]&&(Z=10,M(Ub)),3==a[4][2]&&(Va=F[F.length-1]),ta.splice(b,1))}if(Aa||la)switch(ia){case 240:case 280:case 500:lb();M(Vb);break;case 700:ia=0}for(b=0;b<aa.length;b++)a=aa[b],!a[3]||B[0]<a[0]||B[0]>a[0]+
a[2]||B[1]<a[1]||B[1]>a[1]+42?a[6]=a[7]=!1:(a[7]=!0,1==B[2]?a[6]=!0:0==B[2]&&a[6]&&(a[6]=!1,a[8]()));e.save();if(Aa){e.save();e.beginPath();p(23,1);e.fillRect(0,0,800,600);p(0);e.beginPath();for(b=0;10>b;b++)a=bb(30*b+Ba),p(1),L(0,a+.5,800,void 0,0);e.stroke();e.beginPath();for(b=0;10>b;b++)a=bb(30*b+Ba),p(2),L(0,600-a-.5,800,void 0,0);e.stroke();p(2);e.beginPath();L(0,240,800,void 0,0);L(400,240,-240,!0,0);e.stroke();p(1);e.beginPath();L(0,360,800,void 0,0);L(400,360,240,!0,0);e.stroke();e.beginPath();
for(b=1;b<800/60;b++)a=b*b*5+25,p(2),L(30*b+400,240,-240,!0,a),L(30*-b+400,240,-240,!0,-a);e.stroke();e.beginPath();for(b=1;b<800/60;b++)a=b*b*5+25,p(1),L(30*b+400,360,240,!0,a),L(30*-b+400,360,240,!0,-a);e.stroke();Da?(D("move             awsd",400,251,12,[0,0]),D("fire       left click",400,290,12,[0,0]),D("warptime  right click",400,330,12,[0,0])):(D("winners don't use drugs",401,50,9,[0,0]),D("evil glitch",400,270-50*ea,30*(1+ea),[0,1,0,1]));D("made by agar3s",401,520,9,[0,10]);e.closePath();
e.fill();e.stroke();e.restore()}else if(!Na){p(7,1);e.fillRect(0,0,800,600);p(-1,1,"rgba("+~~w(180,0)+","+~~w(185,0)+","+~~w(185,0)+","+w(0,1)+")");for(b=0;6>b;b++)e.fillRect(~~w(800),~~w(600),2,2);e.save();e.beginPath();C=la?[0,0]:[za(B[2]||0<fa,fa+2),za(B[2]||0<fa,fa+2)];p(-1,1,"rgba(7,8,12,"+(.2-(0<f[8]?.1:0))+")");e.translate(l[0]+C[0],l[1]+C[1]);e.fillRect(0,0,v,v);p(1);e.beginPath();for(b=0;b<=R;b++)Wa(b*n-.5,v);e.stroke();e.beginPath();p(5);for(b=0;b<=R;b++)Wa(b*n+.5,v);e.stroke();e.restore();
e.save();e.beginPath();p(8,1);p(2);for(a=0;a<R;a++)for(b=0;b<R;b++)0!=I[a][b]&&(e.fillRect(b*n+l[0]+C[0],a*n+l[1]+C[1],n,n),e.strokeRect(b*n+l[0]+C[0]-.5,a*n+l[1]+C[1]-.5,n+2,n+2));e.stroke();e.beginPath();p(2);for(a=0;a<R;a++)for(b=0;b<R;b++)0!=I[a][b]&&e.strokeRect(b*n+l[0]+C[0]+.5,a*n+l[1]+C[1]+.5,n,n);e.fill();e.closePath();e.restore();e.save();e.beginPath();for(b=0;b<ta.length;b++)m=ta[b],h=m[4][2],a=La[h][0],q=m[2],q/=m[3],q=1*q*(q-2)+1,x=m[0]+l[0]+C[0],m=m[1]+l[1]+C[1],14==h?(h=x,e.translate(h,
m),e.beginPath(),p(-1,1,"rgba(210,0,0,0.9)"),e.arc(0,0,v*(1-q),0,2*Math.PI),e.stroke(),e.fill(),e.beginPath(),p(0),.3>q?(e.moveTo(-a*q/.3,0),e.lineTo(a*q/.3,0)):(p(0,1),e.bezierCurveTo(-a,0,0,-a*q/2,a,0),e.bezierCurveTo(a,0,0,a*q/2,-a,0),e.fill()),e.closePath(),e.translate(-h,-m)):(p(-1,0,"rgba(38,82,255,"+q+")"),e.fillRect(x-q*a,m-q*a,q*a*2,q*a*2));e.closePath();e.fill();e.stroke();e.restore();e.save();e.translate(f[0]+l[0],f[1]+l[1]);e.rotate(f[3]+Math.PI/2);p(-1,2,2);p(6);e.beginPath();Ya(xa[0],
xa[1],f[2]);e.closePath();e.stroke();e.restore();e.save();for(b=0;b<F.length;b++)if(h=F[b],!(20>h[0]+l[0]||h[0]+l[0]>O-20||20>h[1]+l[1]||h[1]+l[1]>P-20)){a=h[0]+l[0]+C[0]+(.5<w()?1:-1)*h[4]/40;q=h[1]+l[1]+C[1]+(.5<w()?1:-1)*h[4]/40-(9<h[5]?5*Math.sin(ia/50%(2*Math.PI))+5:0);e.translate(a,q);e.beginPath();if(10>h[5])p(h[5]+24),p(-1,2,2),e.rotate(h[9]),Ya(h[7],h[8],h[2]),e.rotate(-h[9]);else if(14==h[5]){m="hsla("+20*h[3]+",50%,60%, 0.5)";p(-1,2,2);e.beginPath();p(-1,0,0<h[4]?gb[3]:m);m=h[2]/3.5;e.arc(0,
0,m/2,0,2*Math.PI,!1);e.stroke();e.beginPath();e.bezierCurveTo(-m,0,0,-m,m,0);e.bezierCurveTo(m,0,0,m,-m,0);e.stroke();e.rotate(h[3]);for(x=0;6>x;x++)W=ga[2*x],G=ga[2*x+1],e.beginPath(),e.arc(4*W*m,4*G*m,m,0,2*Math.PI,!1),e.stroke(),e.beginPath(),e.arc(2*W*m,2*G*m,m,0,2*Math.PI,!1),e.stroke(),e.beginPath(),e.moveTo(W*m*4,G*m*4),e.lineTo(4*m*ga[(2*x+2)%12],4*m*ga[(2*x+3)%12]),e.lineTo(4*m*ga[(2*x+6)%12],4*m*ga[(2*x+7)%12]),e.moveTo(W*m*2,G*m*2),e.lineTo(2*m*ga[(2*x+2)%12],2*m*ga[(2*x+3)%12]),e.lineTo(2*
m*ga[(2*x+6)%12],2*m*ga[(2*x+7)%12]),e.stroke();e.beginPath();e.rotate(-h[3])}else for(p(-1,2,2),m=(Ea[h[5]]-h[9])/Ea[h[5]],m=0<h[4]?-55:~~(200*m)*vb[m.toFixed(4)],p(16),x=0;x<h[7].length;x++)W=h[7][x],G=h[8][x],X=h[2],u=[80+h[4],55+m,130+~~(m/2),0<h[4]?.9:.2],e.beginPath(),p(-1,1,"rgba("+u+")"),Ya(W,G,X),e.closePath(),e.fill(),e.stroke();e.closePath();e.stroke();e.translate(-a,-q)}e.closePath();e.restore();e.save();p(9,1);for(b=0;b<S.length;b++)a=S[b],20>a[0]+l[0]||a[0]+l[0]>O-20||20>a[1]+l[1]||
a[1]+l[1]>P-20||(e.beginPath(),e.arc(a[0]+l[0],a[1]+l[1],a[2],0,2*Math.PI,!1),e.closePath(),e.fill());e.restore();e.save();for(b=0;b<ma.length;b++)a=ma[b],5>a[0]+l[0]||a[0]+l[0]>O-5||5>a[1]+l[1]||a[1]+l[1]>P-5||(e.beginPath(),p(a[4],1),e.arc(a[0]+l[0]+C[0],a[1]+l[1]+C[1],2,0,2*Math.PI,!1),e.closePath(),e.fill());e.restore();e.save();D(Ua,401,501,14,[26,21,21]);la?(p(22,1),e.fillRect(0,0,v,v),Ja&&D("god mode",400,80,22,[0,9]),Ia?(D("-new record-",400,240,22,[10,18]),D("-share it-",400,400,14,[24,18])):
D("game over",400,240,20,[0,13]),D(T.toFixed(0),400,160,Ia?20:16,[0,9])):(D(6<wave?"god":wave+"/6",400,60,9,[0,3]),D(T.toFixed(0),750,60,18,[32,9],1),D(T>record?"record":record.toFixed(0),750,110,9,[24,3],1));e.restore()}Na||Ca||(e.save(),e.beginPath(),p(-1,2,2),e.translate(B[0],B[1]),p(6),e.translate(-10,-10),Wa(10,20),e.stroke(),e.closePath(),e.restore());e.save();for(b=0;b<aa.length;b++)a=aa[b],a[3]&&(q=a[7]?14:a[4],p(q),p(-1,2,2),e.strokeRect(a[0],a[1],a[2],42),D(a[5],a[0]+a[2]/2,a[1]+9,12,[0,
q]));e.restore();Na?(e.save(),e.beginPath(),p(2,1),e.fillRect(0,0,800,600),D(sa,430,180,5>sa.length?120:70,[20,20,20,20,20,20,20,20,20,20,20,20]),e.closePath(),e.fill(),e.restore()):!Ca||300>V||(b=[0,0,0,0],e.save(),e.beginPath(),436>V?(p(-1,1,"rgba(0,0,0,"+(1-(436-V)/120)+")"),e.fillRect(0,0,800,600)):(p(23,1),e.fillRect(0,0,800,600),D(sa,400,250,16,b)),e.closePath(),e.fill(),e.restore());0<ea&&(ea+=.05,.51==ea&&M(Wb));1<ea&&(Aa=!1,ea=0,ib());0<ea&&1>ea&&(p(-1,1,"rgba(220,220,220,"+ea+")"),e.fillRect(0,
0,800,600));(Na=0<Xa)&&--Xa;e.restore();b=g;k.bindTexture(k.TEXTURE_2D,wb);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,b);Z--;for(b=0;b<E.length;b++)E[b]--;Q(ca,wb,xb,ia/60%180,[0<Z+1||0<E[0]?1:0,0<Z+2||0<E[1]?1:0,0<Z||0<E[2]?1:0]);Q(va,ca[1],yb,0<Z||0<E[3]?15:0);Q(ca,va[1],zb,0<Z+1||0<E[4]?1:0);Q(va,ca[1],Ab,0<E[7]&&0==ia%3?0:1);Q(ca,va[1],Bb,0<Z||0<E[5]?9:1);Q(va,ca[1],Cb,ia);Q(ca,va[1],Db);k.bindFramebuffer(k.FRAMEBUFFER,null);k.drawArrays(k.TRIANGLES,0,6);k.flush();la||Aa||(T+=1E3*
dt*(0<f[8]?Ta:1));requestAnimationFrame(qb)}var Ra=new function(){this.G=new Ib;var b,a,e,h,f,k,l,n,p,u,v,B;this.r=function(){var a=this.G;h=100/(a.f*a.f+.001);f=100/(a.g*a.g+.001);k=1-a.h*a.h*a.h*.01;l=-a.i*a.i*a.i*1E-6;a.a||(v=.5-a.n/2,B=5E-5*-a.o);n=1+a.l*a.l*(0<a.l?-.9:10);p=0;u=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.V=function(){this.r();var f=this.G;b=f.b*f.b*1E5;a=f.c*f.c*1E5;e=f.e*f.e*1E5+12;return 3*((b+a+e)/3|0)};this.U=function(D,C){var r=this.G,E=1!=r.s||r.v,z=r.v*r.v*.1,F=1+3E-4*r.w,A=
r.s*r.s*r.s*.1,H=1+1E-4*r.t,M=1!=r.s,O=r.x*r.x,P=r.g,I=r.q||r.r,T=r.r*r.r*r.r*.2,J=r.q*r.q*(0>r.q?-1020:1020),K=r.p?((1-r.p)*(1-r.p)*2E4|0)+32:0,Y=r.d,R=r.j/2,aa=r.k*r.k*.01,L=r.a,U=b,ea=1/b,ga=1/a,ha=1/e,r=5/(1+r.u*r.u*20)*(.01+A);.8<r&&(r=.8);for(var r=1-r,Z=!1,ia=0,S=0,V=0,la=0,fa=0,ba,da=0,na,N=0,Q,ma=0,y,oa=0,ca,qa=0,ka=Array(1024),ja=Array(32),pa=ka.length;pa--;)ka[pa]=0;for(pa=ja.length;pa--;)ja[pa]=w(2,-1);for(pa=0;pa<C;pa++){if(Z)return pa;K&&++oa>=K&&(oa=0,this.r());u&&++p>=u&&(u=0,h*=n);
k+=l;h*=k;h>f&&(h=f,0<P&&(Z=!0));na=h;0<R&&(qa+=aa,na*=1+Math.sin(qa)*R);na|=0;8>na&&(na=8);L||(v+=B,0>v?v=0:.5<v&&(v=.5));if(++S>U)switch(S=0,++ia){case 1:U=a;break;case 2:U=e}switch(ia){case 0:V=S*ea;break;case 1:V=1+2*(1-S*ga)*Y;break;case 2:V=1-S*ha;break;case 3:V=0,Z=!0}I&&(J+=T,Q=J|0,0>Q?Q=-Q:1023<Q&&(Q=1023));E&&F&&(z*=F,1E-5>z?z=1E-5:.1<z&&(z=.1));ca=0;for(var ra=8;ra--;){N++;if(N>=na&&(N%=na,3==L))for(ba=ja.length;ba--;)ja[ba]=w(2,-1);switch(L){case 0:y=N/na<v?.5:-.5;break;case 1:y=1-N/na*
2;break;case 2:y=N/na;y=6.28318531*(.5<y?y-1:y);y=1.27323954*y+.405284735*y*y*(0>y?1:-1);y=.225*((0>y?-1:1)*y*y-y)+y;break;case 3:y=ja[Math.abs(32*N/na|0)]}E&&(ba=da,A*=H,0>A?A=0:.1<A&&(A=.1),M?(fa+=(y-da)*A,fa*=r):(da=y,fa=0),da+=fa,la+=da-ba,y=la*=1-z);I&&(ka[ma%1024]=y,y+=ka[(ma-Q+1024)%1024],ma++);ca+=y}ca*=.125*V*O;D[pa]=1<=ca?32767:-1>=ca?-32768:32767*ca|0}return C}},wa,Oa,Y,M,Ha=window.AudioContext||window.webkitAudioContext;if(Ha){wa=new Ha;Oa=wa.createDynamicsCompressor();var ab=wa.createGain();
ab.gain.value=window.chrome?.2:.4;Oa.connect(ab);ab.connect(wa.destination);Y=function(b){var a=[];Jb(b,wa,function(b){a.push(b)});return a};M=function(b){if(b[0]){var a=wa.createBufferSource();a.context.sampleRate+=~~w(500);a.buffer=b[0];a.start(0);a.connect(Oa);setTimeout(function(){a.disconnect(Oa)},1E3*b[0].duration+300)}}}else Y=M=function(){};var Xb=440*Math.pow(Math.pow(2,1/12),-9),Yb=/^[0-9.]+$/,Kb=/\s+/,Zb=/(\d+)/,Eb={};"B#-C C#-Db D D#-Eb E-Fb E#-F F#-Gb G G#-Ab A A#-Bb B-Cb".split(" ").forEach(function(b,
a){b.split("-").forEach(function(b){Eb[b]=a})});qa.M=function(b){b=b.split(Zb);return Xb*Math.pow(Math.pow(2,1/12),Eb[b[0]])*Math.pow(2,(b[1]||4)-4)};qa.L=function(b){return Yb.test(b)?parseFloat(b):b.toLowerCase().split("").reduce(function(a,b){return a+("w"===b?4:"h"===b?2:"q"===b?1:"e"===b?.5:"s"===b?.25:0)},0)};A.prototype.J=function(){var b=this.gain=this.C.createGain();[["bass",100],["mid",1E3],["treble",2500]].forEach(function(a,e){e=this[a[0]]=this.C.createBiquadFilter();e.type="peaking";
e.frequency.value=a[1];b.connect(b=e)}.bind(this));b.connect(this.C.destination)};A.prototype.push=function(){Array.prototype.forEach.call(arguments,function(b){this.B.push(b instanceof qa?b:new qa(b))}.bind(this));return this};A.prototype.createOscillator=function(){this.stop();this.A=this.C.createOscillator();this.K?this.A.setPeriodicWave(this.C.createPeriodicWave.apply(this.C,this.K)):this.A.type=this.W||"square";this.A.connect(this.gain);return this};A.prototype.R=function(b,a){var e=60/this.D*
this.B[b].duration,f=e*(1-(this.F||0));this.H(this.B[b].frequency,a);this.I&&this.B[b].frequency&&this.S(b,a,f);this.H(0,a+f);return a+e};A.prototype.N=function(b){return this.B[b<this.B.length-1?b+1:0]};A.prototype.O=function(b){return b-Math.min(b,60/this.D*this.I)};A.prototype.S=function(b,a,e){var f=this.N(b);this.H(this.B[b].frequency,a+this.O(e));this.P(f.frequency,a+e)};A.prototype.H=function(b,a){this.A.frequency.setValueAtTime(b,a)};A.prototype.P=function(b,a){this.A.frequency.linearRampToValueAtTime(b,
a)};A.prototype.play=function(b){b="number"===typeof b?b:this.C.currentTime;this.createOscillator();this.A.start(b);this.B.forEach(function(a,e){b=this.R(e,b)}.bind(this));this.A.stop(b);this.A.onended=this.loop?this.play.bind(this,b):null;return this};A.prototype.stop=function(){this.A&&(this.A.onended=null,this.A.disconnect(),this.A=null);return this};var Lb=[8767,518,1115,1039,1126,1133,1149,7,1151,1135,5123,1143,5391,57,4367,121,113,1085,1142,4361,30,2672,56,694,2230,63,1139,2111,3187,1133,4353,
62,8752,10294,10880,4736,8713,0,16,1088,256,8704],Mb=[function(b,a,e,f,k,l){a+=(f+l)*b.length/2;eb(b,a,e,f,k,l)},eb],ka={},Fb={preserveDrawingBuffer:!0},k=c.getContext("webgl",Fb)||c.getContext("experimental-webgl",Fb),e=g.getContext("2d"),O=800,P=600,kb=localStorage,C=[0,0],Z=0,ia=0,E=[0,0,0,0,0,0,0],Ja=!1;d.style.webkitTransformOrigin=d.style.transformOrigin="0 0";g.width=c.width=O;g.height=c.height=P;c.style.top="0px";c.style.left="0px";document.oncontextmenu=function(b){b.preventDefault()};k.viewport(0,
0,O,P);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!0);var $b=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,$b);k.bufferData(k.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),k.STATIC_DRAW);var Cb=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){vec2 a=uv*dim;vec4 b=texture2D(tex,uv);vec4 c=vec4(.0);float d=.02*sin(time)+.3;float e=.03;vec4 f=texture2D(tex,uv+vec2((-15./dim.x)*d,0));for(int g=0;g<9;g++){float h=float(mod(float(g),4.));float i=float(g/3);vec2 j=vec2(a.x+h,a.y+i);vec2 k=vec2(a.x-h,a.y+i);vec2 l=vec2(a.x+h,a.y-i);vec2 m=vec2(a.x-h,a.y-i);c+=texture2D(tex,j/dim)*e;c+=texture2D(tex,k/dim)*e;c+=texture2D(tex,l/dim)*e;c+=texture2D(tex,m/dim)*e;}b+=c;vec4 n=texture2D(tex,uv+vec2((8./dim.x)*d,0));vec4 o=texture2D(tex,uv+vec2((-7.5/dim.x)*d,0));float p=max(1.,sin(uv.y*dim.y*1.2)*2.5)*d;b.r=b.r+n.r*p;b.b=b.b+f.b*p;b.g=b.g+o.g*p;vec2 q=uv*sin(time);float r=fract(sin(dot(q.xy,vec2(12.,78.)))*43758.);vec3 s=vec3(r);b.rgb=mix(b.rgb,s,.015);gl_FragColor.rgba=b;}");
k.uniform2f(ha(Cb,"dim"),O,P);var Db=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){vec2 a=uv*dim;a-=dim/2.;float b=length(a);if(b<600.){float c=b/600.;a*=mix(1.,smoothstep(0.0,600./b,c),.125);}a+=dim/2.;vec4 d=texture2D(tex,a/dim);float e=distance(uv,vec2(.5,.5));d.rgb*=smoothstep(.8,.2*.8,e);gl_FragColor=d;}");k.uniform2f(ha(Db,"dim"),O,P);var xb=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){float a=sin(time);vec4 b=texture2D(tex,uv);vec4 c=texture2D(tex,uv+vec2((-15./dim.x),0));vec4 d=texture2D(tex,uv+vec2((15./dim.x),0));vec4 e=texture2D(tex,uv+vec2((-7.5/dim.x),0));if(colors.r==1.){b.r=b.r+d.r*max(1.,sin(uv.y*dim.y*1.2))*a;}if(colors.g==1.){b.b=b.b+c.b*max(1.,sin(uv.y*dim.y*1.2))*a;}if(colors.b==1.){b.g=b.g+e.g*max(1.,sin(uv.y*dim.y*1.2))*a;}gl_FragColor.rgba=b.rgba;}");
k.uniform2f(ha(xb,"dim"),O,P);var yb=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){float a=5.;float b=.5;vec2 c=uv*dim;vec2 d=c+vec2(floor(sin(c.y/a*time+time*time))*b*time,0);d=d/dim;vec4 e=texture2D(tex,d);gl_FragColor.rgba=e.rgba;}");k.uniform2f(ha(yb,"dim"),O,P);var zb=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){float a=.3;float b=.3;float c=10.*time;float d=10.*time;float e=dim.x;float f=dim.y;vec2 g=uv*dim;vec2 h=vec2(max(3.,min(float(e),g.x+sin(g.y/(153.25*a*a)*a+a*c+b*3.)*d)),max(3.,min(float(f),g.y+cos(g.x/(251.57*a*a)*a+a*c+b*2.4)*d)-3.));vec4 i=texture2D(tex,h/dim);gl_FragColor.rgba=i.rgba;}");
k.uniform2f(ha(zb,"dim"),O,P);var Ab=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){vec4 a=texture2D(tex,uv);if(time==.0){gl_FragColor.rgba=a.bgra;}else{gl_FragColor.rgba=a.rgba;}}");k.uniform2f(ha(Ab,"dim"),O,P);var Bb=N("precision highp float;uniform vec2 dim;uniform sampler2D tex;varying vec2 uv;uniform float time;uniform vec3 colors;void main(){vec2 a=uv*dim;vec2 b=vec2(3.+floor(a.x/time)*time,a.y);vec4 c=texture2D(tex,b/dim);gl_FragColor.rgba=c.rgba;}");
k.uniform2f(ha(Bb,"dim"),O,P);var ca=db(),va=db(),wb=cb(),gb="#FFF;rgba(40,77,153,0.6);rgba(234,34,37,0.6);rgba(180,0,50,0.3);#F952FF;rgba(0,77,153,0.6);rgb(72,255,206);rgba(0,0,0,0.1);rgba(7,8,12,0.2);rgb(40,145,160);#F66;#69F;#32F;#6FF;#066;#0FF;rgba(235,118,71,0.8);#559;#F6F;#2F2;#000;#973;rgba(0,0,0,0.71);rgb(2,1,2);rgba(255,102,192,0.8);rgba(255,102,102,0.8);rgba(252,233,128,0.8);rgba(150,127,254,0.8);rgba(179,72,108,0.8);rgba(179,88,52,0.8);rgba(128,108,26,0.8);rgba(128,155,15,0.8);rgba(128,131,51,0.8);hsla(324,50%, 60%, 0.88);hsla(360,50%, 60%, 0.88);hsla(10,50%, 60%, 0.88);hsla(20,50%, 60%, 0.88);hsla(30,50%, 60%, 0.88);rgba(7,8,12,0.2)".split(";"),
B=[0,0,0];c.onmousedown=function(b){B[2]=3==b.which?0:1;B[3]=3==b.which?1:0;b.preventDefault()};c.onmouseup=function(b){B[2]=0;B[3]=0;b.preventDefault()};c.onmousemove=function(b){0<E[6]||(B[0]=800*b.offsetX/c.offsetWidth,B[1]=600*b.offsetY/c.offsetHeight)};var oa=0,ba={65:1,87:2,68:4,83:8};document.onkeydown=function(b){var a=b.keyCode||b.which;ba[a]&&(oa|=ba[a],b.preventDefault())};document.onkeyup=function(b){var a=b.keyCode?b.keyCode:b.which;oa&ba[a]&&(oa^=ba[a],b.preventDefault())};var Pa=new Ha,
U,K,z,J;g2e="G2 e";c2e="C2 e";lead="Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s".split(";");harmony=[g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e"];bass2="- w;D1 s;- s;D1 e;- q;- m;- w".split(";");bass=basebass=["C1 e","- e","A1 e","- e"];U=new A(Pa,138,lead);K=new A(Pa,138,harmony);z=new A(Pa,138,bass);J=new A(Pa,138,
bass2);U.F=.81;K.F=.55;z.F=.05;z.I=.35;J.F=.05;U.gain.gain.value=.12;K.gain.gain.value=.09;z.gain.gain.value=.11;J.gain.gain.value=.1;var Wb=Y([3,.2421,.1876,.1891,.2844,.5008,,-.0619,.2484,,.0432,-.7113,.3743,.007,8E-4,.0474,-.0023,.705,.7098,.0034,.011,.0259,5E-4,.42]),rb=hb([0,,.12,.14,.3,.8,,-.3399,.04,,,-.04,,.51,-.02,,-.74,,.21,.24,,,.02,.41],6),Ub=Y([1,,.38,,.03,.03,,.8799,.96,.9411,.9785,-.9219,.82,.7513,.6049,.8,-.6041,-.8402,.28,.7,.78,.1423,-.7585,.5]),Sb=Y([3,.0597,.11,.2,.2513,.5277,
,.5841,-.0248,-.076,.5312,-.2978,.7065,-.9091,.4202,.966,.7036,.4575,1,-.9064,.6618,.0266,-.0655,.42]),sb=Y([2,,.09,.06,.45,.27,.02,-.28,.82,.41,.58,-.88,.07,.448,-.355,1,.54,-.073,1,,,,,.42]),Rb=Y([3,.002,.6302,.499,.0804,.5224,,-.0324,4E-4,.5448,,-.7762,-.1765,.6762,-.4386,.7747,-.0347,-.2051,.931,-.0732,.4693,.1444,,.42]),Qb=Y([1,.145,.2094,.4645,.4954,.7134,,-.1659,-.8866,.9733,,-.572,-.7927,-.1186,.4699,.6044,.4604,.1762,.9998,.0236,.1554,,.659,.42]);Y([1,.0076,.66,,,.09,,.96,.32,.1,.97,-1,,
.0615,-.1587,1,,-.02,.83,.12,.23,.0231,-.02,.96]);var tb=hb([3,.0691,.183,.0949,.5678,.46,,-1E-4,,,,-.542,-.2106,-.2402,-.1594,,-.3133,-.0707,.1592,-.4479,.5788,.0169,-.919,.42],8),Vb=Y([3,.0258,.16,.0251,.16,.05,,-.86,-.4088,.0956,.256,-.62,,-6E-4,-.0352,,-.0882,-.0443,.9219,-.0531,.8727,.031,2E-4,.6]),Nb=Y([0,.95,.34,.03,.05,.51,,.96,.84,.05,.51,-.84,.99,.82,,1,,-.88,.87,1,.5,.21,.94,.65]),R,n,la,v,I,Ta,l,F,f,xa,S,ma,Ua,jb,T,ja,Va,ra,Ia,Aa=!0,Ba=0,Da=!1,ea=0;ib();var Na=!1,sa="",Xa=0,Pb=";now i see;i am creation;you are destruction;we are going to be;in this battle;forever".split(";"),
V=0,Ca,Fa=!1;document.getElementById("f").onclick=function(b){document.fullscreenEnabled?Fa?document.exitFullscreen():document.body.requestFullscreen():document.webkitFullscreenEnabled?Fa?document.webkitExitFullscreen():document.body.webkitRequestFullscreen():document.mozFullScreenEnabled&&(Fa?document.mozCancelFullScreen():document.body.mozRequestFullScreen());Fa=!Fa;b.preventDefault()};for(var aa=[[250,320,300,!1,10,"start again",!1,!1,nb],[120,460,250,!1,11,"twitter",!1,!1,function(){window.open("https://twitter.com/home?status="+
encodeURIComponent(ob()+"http://js13kgames.com/entries/evil-glitch"))}],[430,460,250,!1,12,"facebook",!1,!1,function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+(encodeURIComponent("http://js13kgames.com/entries/evil-glitch")+"&description="+encodeURIComponent(ob())))}],[240,380,320,!0,13,"fire to start",!1,!1,nb],[280,440,240,!0,13,"controls",!1,!1,function(){M(sb);Da=!Da;aa[3][3]=!Da;aa[4][5]=Da?"go back":"controls"}]],ta=[],ub=[10,10,11,11,11,12,12,10,10,11,13,10,11,12,12],$a=
0,La=[[15,0,0,0,1,[1,.25,-1,.25],[0,-.75,0,.75],0,3,.1,1.1],[15,0,0,1,4,[1,.3,0,-2,0,.3],[0,1,.3,0,-.3,-1],0,3,.05,.8],[8,0,0,2,2,[1,.25,-1,.25],[0,-.5,0,.5],0,3.5,.15,1.6],[20,0,0,3,9,[0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75,-1,-.75,-.75,-.25],[-1,-.75,-.75,-.25,0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75],0,1,.12,1.05],[12,0,0,4,5,[0,.25,1,.25,0,-.25,-1,-.25],[-1,-.25,0,.25,1,.25,0,-.25],0,3,.03,2.5,0,0,0],[3,0,0,5,150,[1,-1,-1],[0,1,-1],0,0,0,1.4],[16,0,0,6,9,[1,.25,-1,.25],[0,-.75,0,.75],
0,0,0,.6,3.5],[18,0,0,7,8,[1,.25,-1,.25],[0,.75,0,-.75],0,0,0,.8,2.5],[20,0,0,8,7,[1,.25,-1,.25],[0,.75,0,-.75],0,0,0,1.2,1.5],,[n/2,0,0,10,9,[[-1,0,0],[0,0,1],[-1,1,0]],[[-1.5,-.5,.5],[-.5,.5,-1.5],[-1.5,-1.5,-.5]],100,0,7],[n/2,0,0,11,10,[[-1,0,0,-1],[1,0,0,1],[-1,0,1,0],[-1,0,1,0],[-1,0,0,-1],[1,0,0,1]],[[-1.25,-.5,.8,.25],[-1.25,-.5,.8,.25],[-1.25,-.5,-1.25,-1.8],[.25,-.5,.25,.8],[.25,-.5,-1.8,-1.25],[.25,-.5,-1.8,-1.25]],100,0,6],[.8*n,0,0,12,15,[[-.5,0,.5,0],[-.5,0,0],[.5,0,0],[-.5,0,0],[.5,
0,0]],[[-.75,-1,-.75,-.5],[-.75,-.5,.25],[-.75,-.5,.25],[-.75,-1.75,-.5],[-.75,-1.75,-.5]],.9,0,4,.004],[1.2*n,0,0,13,50,[[0,-.75,0],[0,.75,0],[-.75,.75,0],[-.75,.75,0],[-.35,.35,0]],[[-1,.5,0],[-1,.5,0],[.5,.5,0],[-.5,-.5,1],[.25,.25,-.5]],.9,0,13,.1],[2.5*n,0,0,14,200,[],[],.9,0,60,.003,1,0,[6,7,6,7,8]]],Ea={10:2800,11:2600,12:60,13:200},fa=0,ga=[],da=0;6>da;da++){var Gb=(da-3)*Math.PI/3+Math.PI/6;ga.push(Math.cos(Gb),Math.sin(Gb))}for(var vb={},da=0;1E4>da;da++)vb[(da/1E4).toFixed(4)]=Ob(da/1E4);
var Tb={10:function(b){for(var a=0;9>a;a++)if(4!=a){var e=b[0]+(a%3-1)*n,f=b[1]+(~~(a/3)-1)*n;Ka(e,f,.65,[e,f,1==a?1:0])}b[9]=Ea[10]},11:function(b){for(var a=0;12>a;a++)if(4!=a){var e=b[0]+(a%3-1)*n,f=b[1]+(~~(a/3)-1)*n;Ka(e,f,.65,[e,f,1==a?3:2])}b[9]=Ea[11]},12:function(b){for(var a=0;2>a;a++){var e=ua([b[0],b[1],5]);e[9]=b[3]+a*Math.PI;F.push(e)}b[9]=Ea[12]},13:function(b){for(var a=0;6>a;a++){var e=ua([b[0],b[1],5]);e[9]=b[3]+(a-3)*Math.PI/3;e[12]+=.5;F.push(e)}b[9]=45},14:function(b){for(var a=
0;6>a;a++){var e=ua([b[0],b[1],5]);e[9]=b[3]+(a-3)*Math.PI/3+Math.PI/6;e[12]-=.6;F.push(e)}0==b[13]%16&&(e=ua([b[0],b[1],b[15][b[14]%b[15].length]]),e[9]=b[3]/2,F.push(e),b[14]++);if(0==b[13]%100)for(a=0;6>a;a++)pb(b,a);b[9]=70;b[13]++}},Ma;requestAnimationFrame(qb)})();
