(function(){function na(b,a){return Math.atan2(a[1]-b[1],a[0]-b[0])}function za(b,a){return Math.sqrt(b*b+a*a)}function U(b){var a;a=e.VERTEX_SHADER;a=e.createShader(a);e.shaderSource(a,"attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}");e.compileShader(a);var f=a;a=e.FRAGMENT_SHADER;a=e.createShader(a);e.shaderSource(a,b);e.compileShader(a);b=e.createProgram();e.attachShader(b,f);e.attachShader(b,a);e.linkProgram(b);e.useProgram(b);f=e.getAttribLocation(b,
"p");e.enableVertexAttribArray(f);e.vertexAttribPointer(f,2,e.FLOAT,!1,0,0);return[b]}function ba(b){e.useProgram(b[0])}function x(b,a){return b[a]||(b[a]=e.getUniformLocation(b[0],a))}function Ka(){var b=e.createTexture();e.bindTexture(e.TEXTURE_2D,b);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);return b}
function V(b){e.activeTexture(e.TEXTURE0+0);e.bindTexture(e.TEXTURE_2D,b);return 0}function La(){var b=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,b);var a=Ka();e.texImage2D(e.TEXTURE_2D,0,e.RGBA,C,D,0,e.RGBA,e.UNSIGNED_BYTE,null);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);return[b,a]}function ca(b){e.bindFramebuffer(e.FRAMEBUFFER,b[0])}function Xa(){this.T=function(b){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=b[a]||0;.01>this.c&&(this.c=.01);b=
this.b+this.c+this.e;.18>b&&(b=.18/b,this.b*=b,this.c*=b,this.e*=b)}}function Ya(b,a,f){Aa.F.T(b);var e=Aa.V();b=new Uint8Array(4*((e+1)/2|0)+44);var e=2*Aa.U(new Uint16Array(b.buffer,44),e),h=new Uint32Array(b.buffer,0,44);h[0]=1179011410;h[1]=e+36;h[2]=1163280727;h[3]=544501094;h[4]=16;h[5]=65537;h[6]=44100;h[7]=88200;h[8]=1048578;h[9]=1635017060;h[10]=e;e+=44;for(h=0;h<e;h+=3);a&&a.decodeAudioData(b.buffer,f)}function da(b){b=b.split(Za);this.frequency=da.M(b[0])||0;this.duration=da.L(b[1])||0}
function v(b,a,f){this.C=b||new qa;this.J();this.I=a||120;this.loop=!0;this.D=this.H=0;this.B=[];this.push.apply(this,f||[])}function Ba(b,a,m,e,h){f.save();f.beginPath();f.strokeStyle=h;for(h=0;h<b.length;h++){var k=$a["0123456789?abcdefghijklmnopqrstuvwxyz .-'".indexOf(b[h])],n=shakeScreen[0]+a-(e+10)*(b.length-h),p=shakeScreen[1]+m,l=e;k&1&&(f.moveTo(n+2,p-1),f.lineTo(l+n-2,p-1));k&2&&(f.moveTo(l+n+1,p),f.lineTo(l+n+1,l+p-1));k&4&&(f.moveTo(l+n+1,l+p+1),f.lineTo(l+n+1,2*l+p));k&8&&(f.moveTo(n+
2,2*l+p+1),f.lineTo(l+n-2,2*l+p+1));k&16&&(f.moveTo(n-1,p+l+1),f.lineTo(n-1,p+2*l));k&32&&(f.moveTo(n-1,p),f.lineTo(n-1,l+p-1));k&64&&(f.moveTo(n+2,l+p),f.lineTo(n+l/2-2,l+p));k&128&&(f.moveTo(n+2,p+2),f.lineTo(n+l/2-2,l+p-2));k&256&&(f.moveTo(l/2+n,p+2),f.lineTo(l/2+n,l+p-2));k&512&&(f.moveTo(l/2+n+2,l+p-2),f.lineTo(l+n-2,p+2));k&1024&&(f.moveTo(l/2+n+2,l+p),f.lineTo(l+n-2,l+p));k&2048&&(f.moveTo(l/2+n+2,l+p+2),f.lineTo(l+n-2,2*l+p-2));k&4096&&(f.moveTo(l/2+n,l+p+2),f.lineTo(l/2+n,2*l+p-2));k&8192&&
(f.moveTo(n+2,2*l+p-2),f.lineTo(l/2+n-2,l+p+2))}f.closePath();f.stroke();f.restore()}function G(b,a,f,e,h){a+=(e+10)*b.length/2;Ba(b,a,f,e,h)}function Ma(b){return Math.round(b[0]/50)+"-"+Math.round(b[1]/50)}function Ca(b){for(var a={},f,e=0;9>e;e++)if(f=Ma([b[0]+(e%3-1)*b[2],b[1]+(~~(e/3)-1)*b[2]]),!a[f])for(a[f]=1,f=K[f],e=0;f&&e<f.length;e++)if(za(b[1]-f[e][1],b[0]-f[e][0])<f[e][2]+b[2])return f[e]}function Na(b,a){for(var f=[],e=0;e<a;e++){var h=b.slice();h[5]=.05*(e-a/2)+b[5];f.push(A(h))}return f}
function ra(b){b=b.slice(0,2).concat(ab[b[2]].slice(0));if(12==b[5])for(var a=0;6>a;a++){var f=b,e=ra([f[0]+10*Math.cos(Math.PI*a/3),f[1]+10*Math.sin(Math.PI*a/3),4]);e[13]=f;e[9]=na(e,f);e[3]=e[9]+f[11];e[15]=0;e[16]=0;E.push(e)}return b}function bb(b){if(.99<b)return 1;var a=1/b;return 100*b%a>a/2?1:0}function L(b,a){return b?Math.random()*a*2-a:0}function Da(b,a,e){f.moveTo(b[0]*e,a[0]*e);for(var h=1;h<b.length;h++)f.lineTo(b[h]*e,a[h]*e);f.lineTo(b[0]*e,a[0]*e)}function Ea(b,a,f,e,h,k,n){return"rgba("+
(~~(Math.random()*b)+a)+","+(~~(Math.random()*f)+e)+","+(~~(Math.random()*h)+k)+","+(~~(0*Math.random())+n)+")"}function Oa(b){sa||(sa=b);dt=Math.min(100,b-sa)/1E3;sa=b;Fa++;if(0>y[6]){b=dt;if(!H){t=b*h[4]*(0<h[8]?.3:1);var a=b*h[4]*(0<h[8]?1.4:1);F[Math.round(h[1]/40)]&&1==F[Math.round(h[1]/40)][Math.round(h[0]/40)]&&(a-=.5);M&N[65]&&(h[0]-=a,h[0]<h[2]&&(h[0]=h[2]),h[0]>k[2]&&h[0]<840-k[2]&&(k[0]+=a));M&N[87]&&(h[1]-=a,h[1]<h[2]&&(h[1]=h[2]),h[1]>k[3]&&h[1]<840-k[3]&&(k[1]+=a));M&N[83]&&(h[1]+=a,
h[1]>840-h[2]&&(h[1]=840-h[2]),h[1]>k[3]&&h[1]<840-k[3]&&(k[1]-=a));M&N[68]&&(h[0]+=a,h[0]>840-h[2]&&(h[0]=840-h[2]),h[0]>k[2]&&h[0]<840-k[2]&&(k[0]-=a));h[3]=na([h[0]+k[0],h[1]+k[1]],B);if(Ca(h)){I(cb);for(a=-10;10>a;a++)ea.push([h[0],h[1],h[2]+Pa*a*Math.random(),100]);Ga=[[],[]];H=!0;Y.stop();fa.stop();O.stop();ga.stop()}B[2]&&0>=h[6]&&0>=h[8]?(ha.push([h[0]+L(1,2+h[7]/30),h[1]+L(1,2+h[7]/30),2,h[3]+L(1,.05+.001*h[7])]),I(Qa[~~(Math.random()*Qa.length)]),h[6]=1/h[7]):h[6]-=b;B[3]&&0>=h[8]&&0>=h[9]?
(I(db),h[8]=.55,h[9]=1.2):(h[8]-=b,h[9]-=b)}b=ha.length-1;for(;0<=b;b--)if(a=ha[b],a[0]+=Math.cos(a[3])*t*a[2],a[1]+=Math.sin(a[3])*t*a[2],(-20>a[0]||860<a[0]||-20>a[1]||860<a[1])&&ha.splice(b,1),a=Ca(a))ha.splice(b,1),--a[6],a[4]=200,5<a[5]&&I(Ra[~~(Math.random()*Ra.length)]);for(b=0;b<ea.length;b++)a=ea[b],a[0]+=Math.cos(a[2])*(2+3*Math.random()),a[1]+=Math.sin(a[2])*(2+3*Math.random()),0>--a[3]&&ea.splice(b,1);K={};for(b=E.length-1;0<=b;b--)if(a=E[b],0>=a[6]){if(E.splice(b,1),5!=a[5]){for(var m=
-10;10>m;m++)ea.push([a[0],a[1],a[2]+Pa*m*Math.random(),100]);if(9<a[5]){for(var m=a[0],z=a[1],a=a[10],u=~~(m/40),r=~~(z/40),n=Math.ceil(a/40),p=r-n;p<r+n;p++)if("undefined"!=typeof F[p])for(var l=u-n;l<u+n;l++)if(1==F[p][l]||za(40*(p+.5)-z,40*(l+.5)-m)<=a)F[p][l]=0;I(eb)}else I(fb)}}else{0<a[4]&&(a[4]-=50);if(10>a[5])0<a[10]*(a[9]-a[3])&&(a[3]=2==a[5]?na(a,Sa||[0,0]):4==a[5]?a[3]+(a[9]+a[11]):na(a,h),a[10]=a[3]>a[9]?a[11]:-a[11]),m=Ca(a),a[9]=4==a[5]?a[9]+a[10]*t:3!=a[5]||m&&3==m[5]?a[9]+(m?-1:1)*
a[10]:a[9]+a[10],5==a[5]&&(a[6]-=t/10),4!=a[5]?(a[0]+=Math.cos(a[9])*t*a[12],a[1]+=Math.sin(a[9])*t*a[12]):(a[15]=80*(-Math.cos(a[16])+1.2),a[16]+=t/200,a[0]=a[13][0]+Math.cos(a[9])*a[15],a[1]=a[13][1]+Math.sin(a[9])*a[15]);else{a[9]-=t;12<=a[5]&&(a[3]+=a[12]*t);if(0>a[9]&&!H)gb[a[5]](a);a[10]+=dt*a[11];m=a[0];z=a[1];u=a[10];r=~~(m/40);n=~~(z/40);p=Math.ceil(u/40);for(l=n-p;l<n+p;l++)if("undefined"!=typeof F[l])for(var v=r-p;v<r+p;v++)1==F[l][v]||za(40*(l+.5)-z,40*(v+.5)-m)>=u||(F[l][v]=1)}m=Ma(a);
K[m]=K[m]||[];K[m].push(a)}if(0<ja.length&&ia>ja[0])switch(b=Ha[ja.splice(0,1)[0]],b.splice(0,1)[0]){case 0:P.push([b[0],b[1],1,1,b]);break;case 1:b[0].play();break;case 2:y=b;break;case 3:I(b[0]);break;case 4:b[0].I=b[1];138==b[1]&&(b[0].stop(),b[0].play());break;case 5:Ia=b[0]}else 0==ja.length&&(Ha[ia+7500]=[840*Math.random(),840*Math.random(),6],Q=5,ja.push(ia+7500));for(b=0;b<P.length;b++)a=P[b],a[2]-=dt,0>a[2]&&(E.push(ra(a[4])),9<a[4][2]&&(Q=10,I(hb)),3==a[4][2]&&(Sa=E[E.length-1]),P.splice(b,
1))}f.save();b=dt;f.fillStyle="rgba(0,0,0,0.1)";f.fillRect(0,0,800,600);f.fillStyle=Ea(180,0,185,0,185,0,1);for(a=0;6>a;a++)f.fillRect(800*Math.random(),600*Math.random(),2,2);f.save();f.strokeStyle="rgb(51,193,178)";f.beginPath();shakeScreen=H?[0,0]:[L(B[2],2),L(B[2],2)];f.translate(shakeScreen[0],shakeScreen[1]);f.fillStyle="rgba(26,10,44,"+(.2-(0<h[8]?.1:0))+")";f.translate(k[0],k[1]);f.fillRect(0,0,840,840);for(a=0;21>=a;a++)f.moveTo(40*a,0),f.lineTo(40*a,840),f.moveTo(0,40*a),f.lineTo(840,40*
a);f.closePath();f.stroke();f.restore();f.save();f.beginPath();f.fillStyle="rgba(10,4,28,1)";f.strokeStyle="rgba(38,82,255,1)";for(m=0;21>m;m++)for(a=0;21>a;a++)0!=F[m][a]&&(f.fillRect(40*a+k[0]+shakeScreen[0],40*m+k[1]+shakeScreen[1],40,40),f.strokeRect(40*a+k[0]+shakeScreen[0],40*m+k[1]+shakeScreen[1],40,40));f.fill();f.closePath();f.stroke();f.restore();f.save();f.beginPath();for(a=0;a<P.length;a++)m=P[a],z=m[2],z/=m[3],z=1*z*(z-2)+1,f.strokeStyle="rgba(38,82,255,"+z+")",f.fillRect(m[0]+k[0]+shakeScreen[0]-
40*z/2,m[1]+k[1]+shakeScreen[1]-40*z/2,40*z,40*z);f.closePath();f.fill();f.stroke();f.restore();f.save();f.translate(h[0]+k[0]+L(B[2],1),h[1]+k[1]+L(B[2],1));f.rotate(h[3]+Math.PI/2);f.lineWidth=3;f.strokeStyle="rgb(201,133,187)";f.beginPath();Da(Ga[0],Ga[1],h[2]);f.closePath();f.stroke();f.restore();f.save();for(a=0;a<E.length;a++)if(u=E[a],!(20>u[0]+k[0]||u[0]+k[0]>C-20||20>u[1]+k[1]||u[1]+k[1]>D-20)){m=u[0]+k[0]+shakeScreen[0]+(.5<Math.random()?1:-1)*u[4]/40;z=u[1]+k[1]+shakeScreen[1]+(.5<Math.random()?
1:-1)*u[4]/40;f.translate(m,z);f.beginPath();if(10>u[5])f.strokeStyle="rgba(185,185,114,0.6)",f.lineWidth=3,f.rotate(u[9]),Da(u[7],u[8],u[2]),f.rotate(-u[9]);else for(f.lineWidth=2,r=(ka[u[5]]-u[9])/ka[u[5]],r=0<u[4]?-55:~~(200*r)*Ta[r.toFixed(4)],f.strokeStyle=0<u[4]?"#0ff":0==r?"#66A":"#559",n=0;n<u[7].length;n++){var p=u[7][n],l=u[8][n],v=u[2],A=[80+u[4],55+r,130+~~(r/2),0<u[4]?.9:.4];f.beginPath();f.fillStyle="rgba("+A+")";Da(p,l,v);f.closePath();f.fill();f.stroke()}f.closePath();f.stroke();f.translate(-m,
-z)}f.closePath();f.restore();f.save();f.fillStyle="rgb(40,145,160)";for(a=0;a<ha.length;a++)m=ha[a],20>m[0]+k[0]||m[0]+k[0]>C-20||20>m[1]+k[1]||m[1]+k[1]>D-20||(f.beginPath(),f.arc(m[0]+k[0],m[1]+k[1],m[2],0,2*Math.PI,!1),f.closePath(),f.fill());f.restore();f.save();f.fillStyle=Ea(125,50,125,50,125,50,1);for(a=0;a<ea.length;a++)m=ea[a],5>m[0]+k[0]||m[0]+k[0]>C-5||5>m[1]+k[1]||m[1]+k[1]>D-5||(f.beginPath(),f.fillStyle=Ea(125,0,125,100,125,100,m[3]/100),f.arc(m[0]+k[0],m[1]+k[1],2,0,2*Math.PI,!1),
f.closePath(),f.fill());f.restore();f.save();f.lineWidth=2;f.translate(B[0],B[1]);f.strokeStyle="#F952FF";h[5]+=25*b*(8*B[2]+1);h[5]%=360;f.translate(-10,-10);f.beginPath();f.moveTo(0,10);f.lineTo(20,10);f.moveTo(10,0);f.lineTo(10,20);f.closePath();f.stroke();f.restore();f.save();G(Ia,401,501,14,"#90702F");G(Ia,402,502,14,"#D6AE45");H&&(f.fillStyle="rgba(0,0,0,0.6)",f.fillRect(0,0,840,840),G("game over",400,240,20,"#FFF"),G("game over",401,240,20,"#2FF"),G("press f5",400,290,16,"#FFF"),G("press f5",
401,290,16,"#2FF"));Ba(ia.toFixed(0),750,60,16,"#2F2");Ba(ia.toFixed(0),751,61,16,"#FFF");f.restore();f.restore();b=g;e.bindTexture(e.TEXTURE_2D,Ua);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,b);Q--;for(b=0;b<y.length;b++)y[b]--;ca(R);ba(Z);e.uniform1i(x(Z,"t"),V(Ua));e.uniform1f(x(Z,"time"),Fa/60%180);e.uniform3fv(x(Z,"colors"),[0<Q+1||0<y[0]?1:0,0<Q+2||0<y[1]?1:0,0<Q||0<y[2]?1:0]);e.drawArrays(e.TRIANGLES,0,6);ca(S);ba(ta);e.uniform1i(x(ta,"t"),V(R[1]));e.uniform1f(x(ta,"time"),0<
Q||0<y[3]?15:0);e.drawArrays(e.TRIANGLES,0,6);ca(R);ba(ua);e.uniform1i(x(ua,"t"),V(S[1]));e.uniform1f(x(ua,"time"),0<Q+1||0<y[4]?1:0);e.drawArrays(e.TRIANGLES,0,6);ca(S);ba(va);e.uniform1i(x(va,"t"),V(R[1]));e.uniform1f(x(va,"rand"),-.5);e.drawArrays(e.TRIANGLES,0,6);ca(R);ba(wa);e.uniform1i(x(wa,"t"),V(S[1]));e.uniform1f(x(wa,"slit_h"),0<Q||0<y[5]?9:1);e.drawArrays(e.TRIANGLES,0,6);ca(S);ba(xa);e.uniform1i(x(xa,"t"),V(R[1]));e.uniform1f(x(xa,"time"),Fa);e.drawArrays(e.TRIANGLES,0,6);ca(R);ba(Ja);
e.uniform1i(x(Ja,"t"),V(S[1]));e.drawArrays(e.TRIANGLES,0,6);e.bindFramebuffer(e.FRAMEBUFFER,null);e.drawArrays(e.TRIANGLES,0,6);e.flush();H||(ia+=1E3*dt*(0<h[8]?.3:1));requestAnimationFrame(Oa)}var Aa=new function(){this.F=new Xa;var b,a,f,e,h,k,n,p,l,r,v,x;this.r=function(){var a=this.F;e=100/(a.f*a.f+.001);h=100/(a.g*a.g+.001);k=1-a.h*a.h*a.h*.01;n=-a.i*a.i*a.i*1E-6;a.a||(v=.5-a.n/2,x=5E-5*-a.o);p=1+a.l*a.l*(0<a.l?-.9:10);l=0;r=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.V=function(){this.r();var e=
this.F;b=e.b*e.b*1E5;a=e.c*e.c*1E5;f=e.e*e.e*1E5+12;return 3*((b+a+f)/3|0)};this.U=function(B,C){var q=this.F,D=1!=q.s||q.v,A=q.v*q.v*.1,E=1+3E-4*q.w,y=q.s*q.s*q.s*.1,F=1+1E-4*q.t,I=1!=q.s,O=q.x*q.x,Q=q.g,N=q.q||q.r,Y=q.r*q.r*q.r*.2,P=q.q*q.q*(0>q.q?-1020:1020),U=q.p?((1-q.p)*(1-q.p)*2E4|0)+32:0,ba=q.d,V=q.j/2,ca=q.k*q.k*.01,L=q.a,M=b,ea=1/b,ga=1/a,ha=1/f,q=5/(1+q.u*q.u*20)*(.01+y);.8<q&&(q=.8);for(var q=1-q,R=!1,da=0,G=0,H=0,ia=0,S=0,J,K=0,T,la=0,ma,fa=0,w,ja=0,oa,ka=0,Z=Array(1024),pa=Array(32),
aa=Z.length;aa--;)Z[aa]=0;for(aa=pa.length;aa--;)pa[aa]=2*Math.random()-1;for(aa=0;aa<C;aa++){if(R)return aa;U&&++ja>=U&&(ja=0,this.r());r&&++l>=r&&(r=0,e*=p);k+=n;e*=k;e>h&&(e=h,0<Q&&(R=!0));T=e;0<V&&(ka+=ca,T*=1+Math.sin(ka)*V);T|=0;8>T&&(T=8);L||(v+=x,0>v?v=0:.5<v&&(v=.5));if(++G>M)switch(G=0,++da){case 1:M=a;break;case 2:M=f}switch(da){case 0:H=G*ea;break;case 1:H=1+2*(1-G*ga)*ba;break;case 2:H=1-G*ha;break;case 3:H=0,R=!0}N&&(P+=Y,ma=P|0,0>ma?ma=-ma:1023<ma&&(ma=1023));D&&E&&(A*=E,1E-5>A?A=1E-5:
.1<A&&(A=.1));oa=0;for(var na=8;na--;){la++;if(la>=T&&(la%=T,3==L))for(J=pa.length;J--;)pa[J]=2*Math.random()-1;switch(L){case 0:w=la/T<v?.5:-.5;break;case 1:w=1-la/T*2;break;case 2:w=la/T;w=6.28318531*(.5<w?w-1:w);w=1.27323954*w+.405284735*w*w*(0>w?1:-1);w=.225*((0>w?-1:1)*w*w-w)+w;break;case 3:w=pa[Math.abs(32*la/T|0)]}D&&(J=K,y*=F,0>y?y=0:.1<y&&(y=.1),I?(S+=(w-K)*y,S*=q):(K=w,S=0),K+=S,ia+=K-J,w=ia*=1-A);N&&(Z[fa%1024]=w,w+=Z[(fa-ma+1024)%1024],fa++);oa+=w}oa*=.125*H*O;B[aa]=1<=oa?32767:-1>=oa?
-32768:32767*oa|0}return C}},J,ya,A,I,qa=window.AudioContext||window.webkitAudioContext;if(qa){J=new qa;ya=J.createDynamicsCompressor();var r=J.createGain();r.gain.value=window.chrome?.2:.4;ya.connect(r);r.connect(J.destination);A=function(b){var a=[];Ya(b,J,function(b){a.push(b)});return a};I=function(b){if(b[0]){var a=J.createBufferSource();a.context.sampleRate+=~~(500*Math.random());a.buffer=b[0];a.start(0);a.connect(ya);setTimeout(function(){a.disconnect(ya)},1E3*b[0].duration+300)}}}else A=I=
function(){};var ib=440*Math.pow(Math.pow(2,1/12),-9),jb=/^[0-9.]+$/,Za=/\s+/,kb=/(\d+)/,Va={};"B#-C C#-Db D D#-Eb E-Fb E#-F F#-Gb G G#-Ab A A#-Bb B-Cb".split(" ").forEach(function(b,a){b.split("-").forEach(function(b){Va[b]=a})});da.M=function(b){b=b.split(kb);return ib*Math.pow(Math.pow(2,1/12),Va[b[0]])*Math.pow(2,(b[1]||4)-4)};da.L=function(b){return jb.test(b)?parseFloat(b):b.toLowerCase().split("").reduce(function(a,b){return a+("w"===b?4:"h"===b?2:"q"===b?1:"e"===b?.5:"s"===b?.25:0)},0)};v.prototype.J=
function(){var b=this.gain=this.C.createGain();[["bass",100],["mid",1E3],["treble",2500]].forEach(function(a,e){e=this[a[0]]=this.C.createBiquadFilter();e.type="peaking";e.frequency.value=a[1];b.connect(b=e)}.bind(this));b.connect(this.C.destination)};v.prototype.push=function(){Array.prototype.forEach.call(arguments,function(b){this.B.push(b instanceof da?b:new da(b))}.bind(this));return this};v.prototype.createOscillator=function(){this.stop();this.A=this.C.createOscillator();this.K?this.A.setPeriodicWave(this.C.createPeriodicWave.apply(this.C,
this.K)):this.A.type=this.Y||"square";this.A.connect(this.gain);return this};v.prototype.R=function(b,a){var e=60/this.I*this.B[b].duration,f=e*(1-(this.D||0));this.G(this.B[b].frequency,a);this.H&&this.B[b].frequency&&this.S(b,a,f);this.G(0,a+f);return a+e};v.prototype.N=function(b){return this.B[b<this.B.length-1?b+1:0]};v.prototype.O=function(b){return b-Math.min(b,60/this.I*this.H)};v.prototype.S=function(b,a,e){var f=this.N(b);this.G(this.B[b].frequency,a+this.O(e));this.P(f.frequency,a+e)};
v.prototype.G=function(b,a){this.A.frequency.setValueAtTime(b,a)};v.prototype.P=function(b,a){this.A.frequency.linearRampToValueAtTime(b,a)};v.prototype.play=function(b){b="number"===typeof b?b:this.C.currentTime;this.createOscillator();this.A.start(b);this.B.forEach(function(a,e){b=this.R(e,b)}.bind(this));this.A.stop(b);this.A.onended=this.loop?this.play.bind(this,b):null;return this};v.prototype.stop=function(){this.A&&(this.A.onended=null,this.A.disconnect(),this.A=null);return this};var $a=[8767,
518,1115,1039,1126,1133,1149,7,1151,1135,5123,1143,5391,57,4367,121,113,1085,1142,4361,30,2672,56,694,2230,63,1139,2111,3187,1133,4353,62,8752,10294,10880,4736,8713,0,16,1088,256],K={},e=c.getContext("webgl")||c.getContext("experimental-webgl"),f=g.getContext("2d"),C=800,D=600;d.style.webkitTransformOrigin=d.style.transformOrigin="0 0";g.width=c.width=C;g.height=c.height=D;c.style.top="0px";c.style.left="0px";document.oncontextmenu=function(b){b.preventDefault()};e.viewport(0,0,C,D);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,
!0);r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);var xa=U("precision highp float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(){vec2 a=uv*dim;vec4 b=texture2D(t,uv);vec4 c=vec4(0.0);float d=0.02*sin(time)+0.25;float e=0.035;for(int f=0;f<9;f++){float g=float(mod(float(f),4.0));float h=float(f/3);vec2 i=vec2(a.x+g,a.y+h);vec2 j=vec2(a.x-g,a.y+h);vec2 k=vec2(a.x+g,a.y-h);vec2 l=vec2(a.x-g,a.y-h);c+=texture2D(t,i/dim)*e*1.5;c+=texture2D(t,j/dim)*e*1.5;c+=texture2D(t,k/dim)*e*1.5;c+=texture2D(t,l/dim)*e*1.5;}b=b+c;vec4 m=texture2D(t,uv+vec2((-15.0/dim.x)*d,0));vec4 n=texture2D(t,uv+vec2((8.0/dim.x)*d,0));vec4 o=texture2D(t,uv+vec2((-7.5/dim.x)*d,0));b.r=b.r+n.r*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;b.b=b.b+m.b*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;b.g=b.g+o.g*max(1.0,sin(uv.y*dim.y*1.2)*2.5)*d;vec2 p=uv*sin(time);float q=fract(sin(dot(p.xy,vec2(12.9898,78.233)))*43758.5453);vec3 r=vec3(q);b.rgb=mix(b.rgb,r,0.08);gl_FragColor.rgba=b;}");
e.uniform2f(x(xa,"dim"),C,D);var Ja=U("precision highp float;uniform sampler2D t;uniform vec2 dim;varying vec2 uv;void main(){vec2 a=uv*dim;a-=dim/2.0;float b=length(a);if(b<600.0){float c=b/600.0;a*=mix(1.0,smoothstep(0.0,600.0/b,c),0.125);}a+=dim/2.0;vec4 d=texture2D(t,a/dim);float e=distance(uv,vec2(0.5,0.5));d.rgb*=smoothstep(0.8,0.35*0.799,e);gl_FragColor=d;}");e.uniform2f(x(Ja,"dim"),C,D);var Z=U("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;uniform vec3 colors;void main(void){float a=0.0+sin(time);vec4 b=texture2D(t,uv);vec4 c=texture2D(t,uv+vec2((-15.0/dim.x),0));vec4 d=texture2D(t,uv+vec2((15.0/dim.x),0));vec4 e=texture2D(t,uv+vec2((-7.5/dim.x),0));if(colors.r==1.0){b.r=b.r+d.r*max(1.0,sin(uv.y*dim.y*1.2))*a;}if(colors.g==1.0){b.b=b.b+c.b*max(1.0,sin(uv.y*dim.y*1.2))*a;}if(colors.b==1.0){b.g=b.g+e.g*max(1.0,sin(uv.y*dim.y*1.2))*a;}gl_FragColor.rgba=b.rgba;}");
e.uniform2f(x(Z,"dim"),C,D);var ta=U("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(void){float a=5.0;float b=0.5;vec2 c=uv*dim;vec2 d=c+vec2(floor(sin(c.y/a*time+time*time))*b*time,0);d=d/dim;vec4 e=texture2D(t,d);gl_FragColor.rgba=e.rgba;}");e.uniform2f(x(ta,"dim"),C,D);var ua=U("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;void main(void){float a=0.3;float b=0.3;float c=10.00*time;float d=10.00*time;float e=dim.x;float f=dim.y;vec2 g=uv*dim;vec2 h=vec2(max(3.0,min(float(e),g.x+sin(g.y/(153.25*a*a)*a+a*c+b*3.0)*d)),max(3.0,min(float(f),g.y+cos(g.x/(251.57*a*a)*a+a*c+b*2.4)*d)-3.0));vec4 i=texture2D(t,h/dim);gl_FragColor.rgba=i.rgba;}");
e.uniform2f(x(ua,"dim"),C,D);var va=U("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float time;uniform float rand;void main(void){vec4 a=texture2D(t,uv);gl_FragColor.rgba=a.rgba;}");e.uniform2f(x(va,"dim"),C,D);var wa=U("precision mediump float;uniform vec2 dim;uniform sampler2D t;varying vec2 uv;uniform float slit_h;void main(void){vec2 a=uv*dim;vec2 b=vec2(3.0+floor(a.x/slit_h)*slit_h,a.y);vec4 c=texture2D(t,b/dim);gl_FragColor.rgba=c.rgba;}");e.uniform2f(x(wa,
"dim"),C,D);var R=La(),S=La(),Ua=Ka(),B=[0,0,0];c.onmousedown=function(b){B[2]=3==b.which?0:1;B[3]=3==b.which?1:0;b.preventDefault()};c.onmouseup=function(b){B[2]=0;B[3]=0;b.preventDefault()};c.onmousemove=function(b){0<y[6]||(B[0]=b.offsetX,B[1]=b.offsetY)};var M=0,N={65:1,87:2,68:4,83:8};document.onkeydown=function(b){var a=b.keyCode||b.which;N[a]&&(M|=N[a],b.preventDefault())};document.onkeyup=function(b){var a=b.keyCode?b.keyCode:b.which;M&N[a]&&(M^=N[a],b.preventDefault())};var r=new qa,Y,fa,
O,ga;g2e="G2 e";c2e="C2 e";lead="Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Bb1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s;Ab1 s;D2 s".split(";");harmony=[g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",g2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e",c2e,"G2b e"];bass2="- w;D1 s;- s;D1 e;- q;- m;- w".split(";");bass=basebass=["C1 e","- e","A1 e","- e"];Y=new v(r,138,lead);fa=new v(r,138,harmony);O=new v(r,138,bass);ga=new v(r,138,bass2);
Y.D=.81;fa.D=.55;O.D=.05;O.H=.35;ga.D=.05;Y.gain.gain.value=.12;fa.gain.gain.value=.09;O.gain.gain.value=.11;ga.gain.gain.value=.1;window.W=Y;window.X=O;var Qa=Na([0,,.12,.14,.3,.8,,-.3399,.04,,,-.04,,.51,-.02,,-.74,,.21,.24,,,.02,.41],6),hb=A([1,,.38,,.03,.03,,.8799,.96,.9411,.9785,-.9219,.82,.7513,.6049,.8,-.6041,-.8402,.28,.7,.78,.1423,-.7585,.5]),fb=A([3,.0597,.11,.2,.2513,.5277,,.5841,-.0248,-.076,.5312,-.2978,.7065,-.9091,.4202,.966,.7036,.4575,1,-.9064,.6618,.0266,-.0655,.42]),db=A([2,,.09,
.06,.45,.27,.02,-.28,.82,.41,.58,-.88,.07,.448,-.355,1,.54,-.073,1,,,,,.42]),eb=A([3,.002,.6302,.499,.0804,.5224,,-.0324,4E-4,.5448,,-.7762,-.1765,.6762,-.4386,.7747,-.0347,-.2051,.931,-.0732,.4693,.1444,,.42]),cb=A([1,.145,.2094,.4645,.4954,.7134,,-.1659,-.8866,.9733,,-.572,-.7927,-.1186,.4699,.6044,.4604,.1762,.9998,.0236,.1554,,.659,.42]);A([1,.0076,.66,,,.09,,.96,.32,.1,.97,-1,,.0615,-.1587,1,,-.02,.83,.12,.23,.0231,-.02,.96]);for(var Ra=Na([3,.0691,.183,.0949,.5678,.46,,-1E-4,,,,-.542,-.2106,
-.2402,-.1594,,-.3133,-.0707,.1592,-.4479,.5788,.0169,-.919,.42],8),H=!1,Fa=0,F=[],k=[-20,-120,370,270],h=[420,420,16,0,150,0,0,12,0,0],Ga=[[0,1,0,-1],[-1,1,.5,1]],ha=[],E=[],ea=[],Ia="",Pa=Math.PI/2,ia=0,Q=0,y=[0,0,0,0,0,0,0],Ha={500:[1,ga],2500:[0,420,220,10],8999:[5,"what are you doing?"],10500:[1,O],11E3:[0,220,220,10],18E3:[0,620,620,10],18001:[5,""],25E3:[0,620,220,10],31E3:[0,220,620,10],37E3:[0,420,460,11],37500:[1,Y],46E3:[5,"you can't stop us!"],48500:[2,10,0,0,0,10,10,10],49E3:[2,10,10,
10,15,10,20,10],49001:[4,O,1],49002:[4,Y,1],49003:[4,ga,1],50004:[2,60,60,68,55,50,45,60],51E3:[4,O,138],51001:[4,Y,138],51002:[4,ga,138],51003:[5,"we are perfect!"],52E3:[0,180,420,11],53E3:[0,580,420,10],55550:[5,""],61E3:[0,420,660,11],63E3:[0,420,260,10],7E4:[0,660,420,11],72E3:[0,260,420,10],78E3:[0,420,180,11],88501:[2,1E3,0,0,0,0,0,10],92E3:[0,420,380,12],92500:[1,fa],108050:[5,"do you think we are an error?"],112050:[5,"you are a glitch!"],115E3:[0,420,60,12],120050:[5,""],121E3:[0,60,420,
12],126E3:[0,780,420,12],131E3:[0,420,780,12],154499:[5,"your limited dimension..."],160001:[2,100,100,50,20,20,100,10],160500:[5,"is just a plane"],164600:[0,420,340,10],164601:[0,500,380,10],164602:[0,500,460,10],164603:[0,420,500,10],164604:[0,340,460,10],164605:[0,340,380,10],18E4:[0,420,420,13],11E5:[0,500,260,10]},Sa=void 0,ja=Object.keys(Ha).map(function(b){return parseInt(b)}),r=0;21>r;r++){F.push([]);for(var Wa=0;21>Wa;Wa++)F[r].push([])}for(var P=[],ab=[[15,0,0,0,1,[1,.25,-1,.25],[0,-.75,
0,.75],0,3,.1,1.1],[15,0,0,1,4,[1,.3,0,-2,0,.3],[0,1,.3,0,-.3,-1],0,3,.05,.8],[8,0,0,2,2,[1,.25,-1,.25],[0,-.5,0,.5],0,3.5,.15,1.6],[20,0,0,3,9,[0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75,-1,-.75,-.75,-.25],[-1,-.75,-.75,-.25,0,.25,.75,.75,1,.75,.75,.25,0,-.25,-.75,-.75],0,1,.12,1.05],[12,0,0,4,5,[0,.25,1,.25,0,-.25,-1,-.25],[-1,-.25,0,.25,1,.25,0,-.25],0,3,.03,2.5,0,0,0],[3,0,0,5,150,[1,-1,-1],[0,1,-1],0,0,0,1.4],[16,0,0,6,7,[1,.25,-1,.25],[0,-.75,0,.75],0,3.5,.2,.6],,,,[20,0,0,10,9,[[-1,0,0],
[0,0,1],[-1,1,0]],[[-1.5,-.5,.5],[-.5,.5,-1.5],[-1.5,-1.5,-.5]],100,0,7],[20,0,0,11,10,[[-1,0,0,-1],[1,0,0,1],[-1,0,1,0],[-1,0,1,0],[-1,0,0,-1],[1,0,0,1]],[[-1.25,-.5,.8,.25],[-1.25,-.5,.8,.25],[-1.25,-.5,-1.25,-1.8],[.25,-.5,.25,.8],[.25,-.5,-1.8,-1.25],[.25,-.5,-1.8,-1.25]],100,0,6],[32,0,0,12,15,[[-.5,0,.5,0],[-.5,0,0],[.5,0,0],[-.5,0,0],[.5,0,0]],[[-.75,-1,-.75,-.5],[-.75,-.5,.25],[-.75,-.5,.25],[-.75,-1.75,-.5],[-.75,-1.75,-.5]],.9,0,4,.004],[60,0,0,13,30,[[0,-.75,0],[0,.75,0],[-.75,.75,0],[-.75,
.75,0],[-.35,.35,0]],[[-1,.5,0],[-1,.5,0],[.5,.5,0],[-.5,-.5,1],[.25,.25,-.5]],.9,0,13,.1]],ka={10:2800,11:2600,12:60,13:200},Ta={},r=0;1E4>r;r++)Ta[(r/1E4).toFixed(4)]=bb(r/1E4);var gb={10:function(b){for(var a=0;9>a;a++)if(4!=a){var e=b[0]+40*(a%3-1),f=b[1]+40*(~~(a/3)-1);P.push([e,f,.65,.65,[e,f,1==a?1:0]])}b[9]=ka[10]},11:function(b){for(var a=0;12>a;a++)if(4!=a){var e=b[0]+40*(a%3-1),f=b[1]+40*(~~(a/3)-1);P.push([e,f,.65,.65,[e,f,1==a?3:2]])}b[9]=ka[11]},12:function(b){for(var a=0;2>a;a++){var e=
ra([b[0],b[1],5]);e[9]=b[3]+a*Math.PI;E.push(e)}b[9]=ka[12]},13:function(b){for(var a=0;6>a;a++){var e=ra([b[0],b[1],5]);e[9]=b[3]+(a-3)*Math.PI/3;e[12]+=1.2;E.push(e)}b[9]=100}},sa;requestAnimationFrame(Oa)})();
